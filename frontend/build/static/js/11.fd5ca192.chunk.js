(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[11],{162:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.movie="movie",e.book="book",e.start=""}(r||(r={})),function(e){e.bookPerson="bookPerson",e.moviePerson="moviePerson",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(a||(a={}))},164:function(e,t,n){"use strict";var r=n(17),a=n(0),o=n.n(a),i=n(249),c=n(15);function l(){var e=Object(r.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return l=function(){return e},e}var u=Object(c.b)(i.a)(l());t.a=function(e){return o.a.createElement(u,{maxWidth:e.maxWidth},e.children)}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(77),a=function(e){return{type:r.a,filterName:e}}},170:function(e,t,n){"use strict";var r=n(17),a=n(0),o=n.n(a),i=n(15),c=n(8),l=n(162),u=n(41),s=n(75),f=n(166);function d(){var e=Object(r.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return d=function(){return e},e}var m=i.b.button(d(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),p=Object(s.b)(null,{changeSingleSearchPageFilter:f.a})((function(e){var t=e.label,n=e.tagId,r=e.singleQueryType,a=Object(c.g)(),i=encodeURIComponent(n||t);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(m,{onClick:function(){!function(e,t){switch(t){case l.b.bookPerson:e.changeSingleSearchPageFilter(u.b);break;case l.b.moviePerson:e.changeSingleSearchPageFilter(u.d);break;case l.b.tag:case l.b.genre:case l.b.searchBar:default:e.changeSingleSearchPageFilter(u.a)}}(e,r),a.push("/searchResult/param?singleQueryType=".concat(r,"&query=").concat(i))}},t))}));function v(){var e=Object(r.a)(["\n    margin-bottom: 15px;\n"]);return v=function(){return e},e}var h=i.b.div(v());t.a=function(e){var t=e.singleQueryType,n=e.tags,r=e.tagObjects;return o.a.createElement(h,null,n&&n.map((function(e,n){return o.a.createElement(p,{key:n,label:e,singleQueryType:t})})),!n&&r&&r.map((function(e,n){return o.a.createElement(p,{key:n,label:e.tagName,singleQueryType:t,tagId:e.tagId})})))}},173:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(30),a=function(e){return{type:r.e,reviewsArray:e}},o=function(e){return{type:r.a,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},i=function(e){return{type:r.c,userId:e}},c=function(e){return{type:r.d,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},l=function(e){return{type:r.b,userId:e.userId,userName:e.userName,rating:e.rating}}},175:function(e,t,n){"use strict";var r=n(64),a=n(40),o=n(17),i=n(0),c=n.n(i),l=n(181),u=n.n(l),s=n(152),f=n(239),d=n(180),m=n.n(d),p=n(182),v=n.n(p),h=n(15),b=n(75),g=n(173),y=n(163),E=n.n(y);function x(){var e=Object(o.a)(["\n    display: flex;\n    align-items: center;\n"]);return x=function(){return e},e}function O(){var e=Object(o.a)(["\n    padding: 0px !important;\n"]);return O=function(){return e},e}var j=Object(h.b)(s.a)(O()),w=h.b.div(x()),k=window.location.protocol+"//"+window.location.host;t.a=Object(b.b)(null,{changeRatingAction:g.b})((function(e){var t=Object(i.useState)(0),n=Object(a.a)(t,2),o=n[0],l=n[1],s=e.readonly,d=e.readOnlyRating,p=e.hideReadOnlyLabel,h=e.userRating,b=e.userId,g=e.userName,y="";function x(t){var n=o===t?t-1:t;l(n),b&&g&&function(e,t,n,r){e.changeRatingAction({userId:t,userName:n,rating:r}),r||e.userHasReviewText?E.a.put(k+"/reviewRatings/rating",{mediaId:e.mediaId,mediaType:e.mediaType,userId:t,rating:r}).then((function(e){console.log("Successfully put the rating: ",e)})).catch((function(e){console.log(e)})):E.a.delete(k+"/reviewRatings"+"/".concat(e.mediaType,"/").concat(e.mediaId,"/").concat(t)).then((function(e){console.log("Successfully deleted the reviewRating",e)})).catch((function(e){console.log(e)}))}(e,b,g,n)}return s&&d?y=d.toFixed(2):h&&(y=h.toFixed(2)),Object(i.useEffect)((function(){o||l(h||0)}),[h]),c.a.createElement(f.a,{display:"flex"},Object(r.a)(Array(5)).map((function(e,t){return c.a.createElement(w,{key:t},s?c.a.createElement(c.a.Fragment,null,function(e,t){var n=((null===t||void 0===t?void 0:t.toFixed(2))||"0.00").split("."),r=Object(a.a)(n,2),o=r[0],i=r[1],l=parseInt(o),s=parseInt(i);if(e+1<=l)return c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"});if(e!==l)return c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"});var f=50*Math.round(s/50);return 0===f?c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"}):50===f?c.a.createElement(v.a,{style:{fill:"#FFCC00"},fontSize:"small"}):100===f?c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"}):void 0}(t,d)):c.a.createElement(j,{size:"small",onClick:function(){return x(t+1)}},t<o?c.a.createElement(m.a,{style:{fill:"#FFCC00"}}):c.a.createElement(u.a,{style:{fill:"#FFCC00"}})))})),c.a.createElement(f.a,{ml:1},s&&!p&&y))}))},183:function(e,t,n){e.exports=n.p+"static/media/MockCover.4d59545d.png"},184:function(e,t,n){e.exports=n.p+"static/media/MockBookCover.db0a0480.jpg"},185:function(e,t,n){e.exports=n(200)},186:function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,l,"next",e)}function l(e){r(i,a,o,c,l,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return a}))},190:function(e,t,n){"use strict";var r=n(40),a=n(17),o=n(0),i=n.n(o),c=n(15),l=n(382),u=n(379),s=n(380),f=n(148),d=n(395),m=n(152),p=n(381),v=n(279),h=n(239),b=n(278),g=n(195),y=n.n(g),E=n(227),x=n.n(E),O=n(149),j=n(8),w=n(162),k=n(177),S=n(170),F=n(163),C=n.n(F),L=n(175);function I(){var e=Object(a.a)(["\n    &.MuiDialogActions-root {\n        box-shadow: 10px 10px 5px grey;\n    }\n"]);return I=function(){return e},e}function P(){var e=Object(a.a)(["\n    width: 100%;\n"]);return P=function(){return e},e}function M(){var e=Object(a.a)(["\n    background-color: ",";\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    &.MuiDialogTitle-root {\n        margin-bottom: 10px;\n        height: 25px;\n    }\n"]);return M=function(){return e},e}function T(){var e=Object(a.a)(["\n    color: white;\n    &:hover {\n        color: grey;\n    }\n"]);return T=function(){return e},e}function R(){var e=Object(a.a)(["\n    margin-right: 10px;\n    background: none;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:hover {\n        color: ",";\n    }\n"]);return R=function(){return e},e}var N=Object(c.b)(O.a)(R(),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[900]})),D=Object(c.b)(y.a)(T()),z=Object(c.b)(u.a)(M(),(function(e){return e.theme.palette.primary.main})),_=c.b.img(P()),A=Object(c.b)(s.a)(I()),G=function(e){var t=e.isOpen,n=e.modalData,a=e.setModalOpen,c=Object(j.g)(),l=Object(o.useState)([]),u=Object(r.a)(l,2),s=u[0],g=u[1],y=Object(o.useState)(0),E=Object(r.a)(y,2),O=E[0],F=E[1],I=Object(f.a)("(max-width:450px)"),P=Object(f.a)("(max-height:500px)");return Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType===w.a.book?"books":"movies";C.a.get("/".concat(r,"/tags/").concat(e)).then((function(e){var t=e.data;g(t.nextStoryTags)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType;C.a.get("/reviewRatings/averageRating/".concat(r,"/").concat(e)).then((function(e){var t=e.data;F(t.average)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),i.a.createElement(d.a,{scroll:"paper",open:t,onClose:function(){return a(!1)},fullScreen:I||P},i.a.createElement(z,{disableTypography:!0},i.a.createElement(m.a,{onClick:function(){return a(!1)}},i.a.createElement(D,null))),i.a.createElement(p.a,null,i.a.createElement(v.a,{container:!0,direction:"column",spacing:2},i.a.createElement(v.a,{container:!0,direction:"row",spacing:2},i.a.createElement(v.a,{item:!0,sm:4,style:{width:"100%"}},i.a.createElement(h.a,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(_,{src:null===n||void 0===n?void 0:n.image}))),i.a.createElement(v.a,{item:!0,sm:8},i.a.createElement(b.a,{variant:"h3",gutterBottom:!0},null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.mediaType)===w.a.movie?"(Movie)":"(Book)"),i.a.createElement(b.a,{variant:"subtitle2"},"Avg members rating: ",!O&&"No rating"),O>0&&i.a.createElement(L.a,{readOnlyRating:O,readonly:!0}),"Genres:",i.a.createElement(S.a,{tags:(null===n||void 0===n?void 0:n.genres)||[],singleQueryType:w.b.genre}),s.length>0&&i.a.createElement(i.a.Fragment,null,"Tags:",i.a.createElement(S.a,{tagObjects:s||[],singleQueryType:w.b.tag})))),i.a.createElement(v.a,{item:!0,sm:12},i.a.createElement(k.a,{content:(null===n||void 0===n?void 0:n.blurb)||""})))),i.a.createElement(h.a,{boxShadow:3},i.a.createElement(A,null,i.a.createElement(N,{endIcon:i.a.createElement(x.a,null),onClick:function(){return function(){var e=n.id,t=n.mediaType;c.push("/".concat(t,"/").concat(e)),a(!1)}()}},"Go to page"))))};function B(){var e=Object(a.a)(["\n    height: 100%;\n    max-width: 100%;\n    cursor: pointer;\n    &:hover {\n        opacity: 50%;\n    }\n"]);return B=function(){return e},e}function Q(){var e=Object(a.a)(["\n    height: 250px;\n    width: 175px;\n    display: flex;\n    justify-content: center;\n    align-items: space-between;\n    flex-direction: column;\n"]);return Q=function(){return e},e}var W=Object(c.b)(l.a)(Q()),H=c.b.img(B());t.a=function(e){var t=e.cardData.image,n=Object(o.useState)(!1),a=Object(r.a)(n,2),c=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(G,{isOpen:c,setModalOpen:function(){return l(!1)},modalData:e.cardData}),i.a.createElement(W,{elevation:1},i.a.createElement(H,{src:t,onClick:function(){return l(!0)}})))}},200:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var s={};function f(){}function d(){}function m(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,h=v&&v(v(w([])));h&&h!==t&&n.call(h,a)&&(p=h);var b=m.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=b.constructor=m,m.constructor=d,d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),c(b,i,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},281:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.default=o},282:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=(n(3),n(4)),c=n(171),l=n(5),u=n(278),s=n(9),f=o.forwardRef((function(e,t){e.checked;var n=e.classes,l=e.className,f=e.control,d=e.disabled,m=(e.inputRef,e.label),p=e.labelPlacement,v=void 0===p?"end":p,h=(e.name,e.onChange,e.value,Object(a.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),b=Object(c.a)(),g=d;"undefined"===typeof g&&"undefined"!==typeof f.props.disabled&&(g=f.props.disabled),"undefined"===typeof g&&b&&(g=b.disabled);var y={disabled:g};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof f.props[t]&&"undefined"!==typeof e[t]&&(y[t]=e[t])})),o.createElement("label",Object(r.a)({className:Object(i.a)(n.root,l,"end"!==v&&n["labelPlacement".concat(Object(s.a)(v))],g&&n.disabled),ref:t},h),o.cloneElement(f,y),o.createElement(u.a,{component:"span",className:Object(i.a)(n.label,g&&n.disabled)},m))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},283:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"InsertPhoto");t.default=o},284:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=o},370:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=(n(3),n(4)),c=n(5),l=n(50),u=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=o.forwardRef((function(e,t){var n=e.alt,c=e.children,l=e.classes,s=e.className,f=e.component,d=void 0===f?"div":f,m=e.imgProps,p=e.sizes,v=e.src,h=e.srcSet,b=e.variant,g=void 0===b?"circle":b,y=Object(a.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),E=null,x=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),a=r[0],i=r[1];return o.useEffect((function(){if(t||n){i(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&i("loaded")},r.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,n]),a}({src:v,srcSet:h}),O=v||h,j=O&&"error"!==x;return E=j?o.createElement("img",Object(r.a)({alt:n,src:v,srcSet:h,sizes:p,className:l.img},m)):null!=c?c:O&&n?n[0]:o.createElement(u,{className:l.fallback}),o.createElement(d,Object(r.a)({className:Object(i.a)(l.root,l.system,l[g],s,!j&&l.colorDefault),ref:t},y),E)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},390:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n(0),o=n.n(a),i=n(279),c=n(40),l=n(17),u=n(15),s=n(278),f=n(185),d=n.n(f),m=n(186),p=n(379),v=n(395),h=n(152),b=n(195),g=n.n(b),y=n(283),E=n.n(y),x=n(381),O=n(282),j=n(398),w=n(380),k=n(149),S=n(163),F=n.n(S),C=n(75),L=n(66),I=n(370),P=n(281),M=n.n(P);function T(){var e=Object(l.a)(["\n  &.MuiSvgIcon-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return T=function(){return e},e}function R(){var e=Object(l.a)(["\n  &.MuiAvatar-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return R=function(){return e},e}var N=Object(u.b)(I.a)(R()),D=Object(u.b)(M.a)(T()),z=function(e){var t=e.avatar;return o.a.createElement("div",null,t?o.a.createElement(N,{variant:"square"},o.a.createElement("img",{alt:"profile",src:t,width:"100%"})):o.a.createElement(D,{color:"disabled",fontSize:"large"}))};function _(){var e=Object(l.a)(["\n  display: none;\n"]);return _=function(){return e},e}function A(){var e=Object(l.a)(["\n  &.MuiFormControlLabel-root {\n    align-items: flex-start;\n    margin-left: 0;\n    margin-right: 0;\n  }\n  & > div {\n    min-width: 300px;\n  }\n"]);return A=function(){return e},e}function G(){var e=Object(l.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n    margin-bottom: 10px;\n  }\n  margin: 0 auto 10px auto;\n"]);return G=function(){return e},e}function B(){var e=Object(l.a)(["\n  &.MuiButtonBase-root {\n    position: absolute;\n    color: #ffffff;\n  }\n  right: 5px;\n"]);return B=function(){return e},e}function Q(){var e=Object(l.a)(["\n  color: #ffffff;\n"]);return Q=function(){return e},e}function W(){var e=Object(l.a)(["\n  display: inline-flex;\n  align-items: center;\n  background-color: #3f51b5;\n"]);return W=function(){return e},e}var H=Object(u.b)(p.a)(W()),U=Object(u.b)(s.a)(Q()),V=Object(u.b)(h.a)(B()),J=u.b.div(G()),q=Object(u.b)(O.a)(A()),Y=u.b.input(_()),$=Object(C.b)((function(e){var t,n,r;return{aboutMe:null===(t=e.profile)||void 0===t?void 0:t.message,photo:null===(n=e.profile)||void 0===n?void 0:n.avatar,id:null===(r=e.profile)||void 0===r?void 0:r._id}}),(function(e){return{updateProfile:function(t){return e((n=t,{type:L.b,data:n}));var n}}}))((function(e){var t=e.aboutMe,n=void 0===t?"":t,r=e.photo,i=e.isOpen,l=e.id,u=e.handleClose,f=e.updateProfile,p=window.location.protocol+"//"+window.location.host,h=Object(a.useState)(n),b=Object(c.a)(h,2),y=b[0],O=b[1],S=Object(a.useState)(r),C=Object(c.a)(S,2),L=C[0],I=C[1],P=Object(a.useState)(""),M=Object(c.a)(P,2),T=M[0],R=M[1],N=function(){D(),u()},D=function(){R(""),I(r),O(n)},_=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===(n=t.target.files)||void 0===n?void 0:n[0],(a=new FileReader).onload=function(e){var t,n=new Image;n.onload=function(){var e=document.createElement("canvas"),t=n.naturalWidth,r=n.naturalHeight,a=t,o=r;t/r>1?a=1*r:o=t/1;var i=Math.round((a-t)/2),c=Math.round((o-r)/2);e.width=a,e.height=o;var l=e.getContext("2d");null===l||void 0===l||l.drawImage(n,i,c);var u=e.toDataURL("image/jpeg");I(u)},n.src=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||""},r&&(parseFloat(null===(o=r.size/1024/1024)||void 0===o?void 0:o.toFixed(4))>8?R("File size exceeds 8Mb"):a.readAsDataURL(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T){e.next=13;break}return e.prev=2,e.next=5,F.a.put("".concat(p,"/users/edit/").concat(l),{message:y,avatar:L});case 5:n=e.sent,f(n.data),u(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("error submitting the updated profile: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O(n)}),[n]),Object(a.useEffect)((function(){I(r)}),[r]),o.a.createElement(v.a,{open:i,onClose:N},o.a.createElement(H,{disableTypography:!0},o.a.createElement(U,{variant:"h4"},"Edit Profile"),o.a.createElement(V,{onClick:N},o.a.createElement(g.a,null))),o.a.createElement(x.a,{dividers:!0},o.a.createElement("form",{onSubmit:function(e){return A(e)}},o.a.createElement(J,null,o.a.createElement(z,{avatar:L}),o.a.createElement(Y,{accept:".png, .jpg, .jpeg",id:"upload-file-input",type:"file",onChange:_}),o.a.createElement("label",{htmlFor:"upload-file-input"},o.a.createElement(k.a,{component:"span",startIcon:o.a.createElement(E.a,null),variant:"contained"},"Upload")),T&&o.a.createElement(s.a,{variant:"subtitle2",color:"error"},T)),o.a.createElement(q,{control:o.a.createElement(j.a,{multiline:!0,rows:4,value:y,onChange:function(e){O(e.target.value)}}),label:"About Me",labelPlacement:"top"}),o.a.createElement(w.a,null,o.a.createElement(k.a,{variant:"contained",onClick:D},"Cancel"),o.a.createElement(k.a,{color:"primary",variant:"contained",type:"submit"},"Submit")))))}));function K(){var e=Object(l.a)(["\n  cursor: pointer;\n  :hover {\n    & .MuiTypography-root {\n      text-decoration: underline;\n    }\n  }\n"]);return K=function(){return e},e}function X(){var e=Object(l.a)(["\n  &.MuiTypography-body1 {\n    font-weight: bold;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(l.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(l.a)(["\n  flex: 0 1 auto;\n  min-width: 300px;\n  /* height: 100vh; */\n  /* overflow-x: hidden; */\n  /* overflow-y: auto; */\n  & > * {\n    margin-bottom: 10px;\n  }\n"]);return ee=function(){return e},e}var te=u.b.div(ee()),ne=u.b.div(Z()),re=Object(u.b)(s.a)(X()),ae=u.b.div(K()),oe=function(e){var t=e.avatar,n=e.about,r=e.email,i=e.booksCount,l=e.moviesCount,u=e.name,f=Object(a.useState)(!1),d=Object(c.a)(f,2),m=d[0],p=d[1];return o.a.createElement(te,{id:"userinfo"},o.a.createElement($,{isOpen:m,handleClose:function(){return p(!1)}}),o.a.createElement(ne,null,o.a.createElement(z,{avatar:t}),o.a.createElement(ae,{onClick:function(){return p(!0)}},o.a.createElement(s.a,{align:"center",color:"primary",variant:"body1"},"Edit Profile"))),o.a.createElement("div",null,o.a.createElement(s.a,{variant:"body2"},"User Name: ".concat(u)),o.a.createElement(s.a,{variant:"body2"},"Books Read: ".concat(i)),o.a.createElement(s.a,{variant:"body2"},"Movies Watched: ".concat(l))),o.a.createElement("div",null,o.a.createElement(re,null,"About Me/Message User"),o.a.createElement(s.a,{variant:"body2"},n)),o.a.createElement("div",null,o.a.createElement(re,null,"Contact"),o.a.createElement(s.a,{variant:"body2"},r)))},ie=n(148),ce=n(164),le=n(64),ue=n(192),se=n.n(ue),fe=(n(194),n(190)),de=n(183),me=n.n(de),pe=n(284),ve=n.n(pe);function he(){var e=Object(l.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n"]);return he=function(){return e},e}function be(){var e=Object(l.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.23);\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  :hover{\n    cursor: pointer;\n  }\n"]);return be=function(){return e},e}function ge(){var e=Object(l.a)(["\n  &.MuiOutlinedInput-root {\n    border-radius: 4px 0 0 4px;\n  }\n"]);return ge=function(){return e},e}function ye(){var e=Object(l.a)(["\n  &.MuiGrid-container {\n    flex-wrap: nowrap;\n  }\n"]);return ye=function(){return e},e}var Ee=Object(u.b)(i.a)(ye()),xe=Object(u.b)(j.a)(ge()),Oe=Object(u.b)(i.a)(be()),je=u.b.div(he()),we=function(){return o.a.createElement("div",null,o.a.createElement(Ee,{container:!0,spacing:0,alignItems:"stretch"},o.a.createElement(i.a,{item:!0},o.a.createElement(xe,{name:"search",type:"search",placeholder:"Search"})),o.a.createElement(Oe,{item:!0},o.a.createElement(je,null,o.a.createElement(ve.a,{fontSize:"large"})))))},ke=n(393),Se=function(){return o.a.createElement(ke.a,{variant:"outlined",native:!0},o.a.createElement("option",{value:1},"Option 1"),o.a.createElement("option",{value:2},"Option 2"))},Fe=n(162),Ce=n(184),Le=n.n(Ce);function Ie(){var e=Object(l.a)(["\n  margin-top: 20px;\n"]);return Ie=function(){return e},e}var Pe=Object(u.b)(se.a)(Ie()),Me=(me.a,Fe.a.movie,function(){return o.a.createElement(i.a,{spacing:1,container:!0},o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(Se,null)),o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(we,null)))}),Te=Object(C.b)()((function(e){e.bookIds,e.movieIds;var t=e.title,n=e.withSearchSelect,r=(e.updateMethod,sessionStorage.getItem("NS-session-data")),i=(r&&JSON.parse(r)).userId,l=Object(a.useState)([{title:"",id:"",mediaType:Fe.a.start,image:Le.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),u=Object(c.a)(l,2),f=u[0],d=u[1];Object(a.useEffect)((function(){F.a.get("/users/userLists/".concat(i)).then((function(e){var n=e.data;console.log(t),console.log(n);var r=[];console.log(t),(null===t||void 0===t?void 0:t.includes("Favourite"))?(r.push.apply(r,n.favoriteMoviesDetails),r.push.apply(r,n.favoriteBooksDetails)):(r.push.apply(r,n.watchLaterDetails),r.push.apply(r,n.readLaterDetails),r.push.apply(r,n.booksReadDetails),r.push.apply(r,n.moviesWatchedDetails)),d(r)})).catch((function(e){console.log(e)}))}),[]);var m=f.map((function(e,t){return o.a.createElement(fe.a,{key:t,cardData:e})})),p=Object(le.a)(m);return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{variant:"h4"},t),o.a.createElement("div",null,n&&o.a.createElement(Me,null)),o.a.createElement(Pe,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xmd","sm","xs"],responsive:{xl:{breakpoint:{max:3e3,min:1200},items:2.4,partialVisibilityGutter:40},lg:{breakpoint:{max:1200,min:960},items:1.5,partialVisibilityGutter:20},md:{breakpoint:{max:960,min:768},items:2,partialVisibilityGutter:0},xmd:{breakpoint:{max:768,min:480},items:1.5,partialVisibilityGutter:20},sm:{breakpoint:{max:480,min:0},items:.8,partialVisibilityGutter:50}}},p))})),Re=n(170),Ne=n(67);function De(){var e=Object(l.a)(["\n  min-width: 350px;\n  margin: 0 auto;\n"]);return De=function(){return e},e}function ze(){var e=Object(l.a)(["\n  > * {\n    :not(:first-child) {\n      margin-top: 30px;\n    }\n  }\n"]);return ze=function(){return e},e}var _e=u.b.div(ze()),Ae=u.b.div(De()),Ge=Object(C.b)(null,(function(e){return{setFavorites:function(t){return e((n=t,{type:Ne.a,data:n}));var n},setLater:function(t){return e((n=t,{type:Ne.b,data:n}));var n}}}))((function(e){var t=e.favoriteAuthors,n=e.favoriteBooks,r=e.favoriteDirectors,a=e.favoriteGenres,i=e.favoriteMovies,c=e.favoriteNextStoryTags,l=e.readLater,u=e.watchLater,f=e.setFavorites,d=e.setLater;return o.a.createElement(_e,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(Ae,null,o.a.createElement(s.a,{variant:"h4"},"Favourite Genres"),o.a.createElement(Re.a,{tags:Object(le.a)(a),singleQueryType:Fe.b.genre}),o.a.createElement(Re.a,{tagObjects:Object(le.a)(c),singleQueryType:Fe.b.tag})),o.a.createElement(Ae,null,o.a.createElement(s.a,{variant:"h4"},"Favourite Authors:"),o.a.createElement(Re.a,{tags:t,singleQueryType:Fe.b.bookPerson})),o.a.createElement(Ae,null,o.a.createElement(s.a,{variant:"h4"},"Favourite Directors:"),o.a.createElement(Re.a,{tags:r,singleQueryType:Fe.b.moviePerson})),o.a.createElement(Ae,null,o.a.createElement(Te,{bookIds:n,bMSource:"favorite",movieIds:i,title:"User's Favourite Books/Movies:",updateMethod:f})),o.a.createElement(Ae,null,o.a.createElement(Te,{bMSource:"later",title:"User's Read/Watched List",bookIds:l,movieIds:u,withSearchSelect:!0,updateMethod:d}))))}));t.default=Object(C.b)((function(e){return{profile:e.profile}}),(function(e){return{setProfile:function(t){return e(function(e){return{type:L.a,profile:e}}(t))}}}))((function(e){var t=e.profile,n=t.avatar,c=t.booksRead,l=t.email,u=t.message,s=t.moviesWatched,f=t.name,d=Object(r.a)(t,["avatar","booksRead","email","message","moviesWatched","name"]),m=e.setProfile,p=Object(ie.a)("(min-width: 960px)"),v=window.location.protocol+"//"+window.location.host;return Object(a.useEffect)((function(){var e=sessionStorage.getItem("NS-session-data"),t=e&&JSON.parse(e).userId;F.a.get("".concat(v,"/users/").concat(t)).then((function(e){m(e.data)})).catch((function(e){console.log("Error fetching profile: ",e)}))}),[]),o.a.createElement(ce.a,{maxWidth:p?"lg":"sm"},o.a.createElement(i.a,{container:!0,spacing:5},o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(oe,{about:u,avatar:n,booksCount:c.length,email:l,moviesCount:s.length,name:f})),o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:7},o.a.createElement(Ge,d))))}))}}]);
//# sourceMappingURL=11.fd5ca192.chunk.js.map