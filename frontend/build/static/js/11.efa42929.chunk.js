(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[11],{163:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.movie="movie",e.book="book",e.start=""}(r||(r={})),function(e){e.bookPerson="bookPerson",e.moviePerson="moviePerson",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(a||(a={}))},164:function(e,t,n){"use strict";var r=n(24),a=n(0),o=n.n(a),i=n(251),c=n(19);function l(){var e=Object(r.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return l=function(){return e},e}var u=Object(c.b)(i.a)(l());t.a=function(e){return o.a.createElement(u,{maxWidth:e.maxWidth},e.children)}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(77),a=function(e){return{type:r.a,filterName:e}}},170:function(e,t,n){"use strict";var r=n(24),a=n(0),o=n.n(a),i=n(19),c=n(8),l=n(163),u=n(41),s=n(75),f=n(166);function d(){var e=Object(r.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return d=function(){return e},e}var m=i.b.button(d(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),p=Object(s.b)(null,{changeSingleSearchPageFilter:f.a})((function(e){var t=e.label,n=e.tagId,r=e.singleQueryType,a=Object(c.g)(),i=encodeURIComponent(n||t);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(m,{onClick:function(){!function(e,t){switch(t){case l.b.bookPerson:e.changeSingleSearchPageFilter(u.b);break;case l.b.moviePerson:e.changeSingleSearchPageFilter(u.d);break;case l.b.tag:case l.b.genre:case l.b.searchBar:default:e.changeSingleSearchPageFilter(u.a)}}(e,r),a.push("/searchResult/param?singleQueryType=".concat(r,"&query=").concat(i))}},t))}));function v(){var e=Object(r.a)(["\n    margin-bottom: 15px;\n"]);return v=function(){return e},e}var b=i.b.div(v());t.a=function(e){var t=e.singleQueryType,n=e.tags,r=e.tagObjects;return o.a.createElement(b,null,n&&n.map((function(e,n){return o.a.createElement(p,{key:n,label:e,singleQueryType:t})})),!n&&r&&r.map((function(e,n){return o.a.createElement(p,{key:n,label:e.tagName,singleQueryType:t,tagId:e.tagId})})))}},173:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(30),a=function(e){return{type:r.e,reviewsArray:e}},o=function(e){return{type:r.a,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},i=function(e){return{type:r.c,userId:e}},c=function(e){return{type:r.d,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},l=function(e){return{type:r.b,userId:e.userId,userName:e.userName,rating:e.rating}}},175:function(e,t,n){"use strict";var r=n(64),a=n(40),o=n(24),i=n(0),c=n.n(i),l=n(184),u=n.n(l),s=n(152),f=n(238),d=n(183),m=n.n(d),p=n(185),v=n.n(p),b=n(19),h=n(75),g=n(173),y=n(162),E=n.n(y);function O(){var e=Object(o.a)(["\n    display: flex;\n    align-items: center;\n"]);return O=function(){return e},e}function j(){var e=Object(o.a)(["\n    padding: 0px !important;\n"]);return j=function(){return e},e}var x=Object(b.b)(s.a)(j()),w=b.b.div(O()),k=window.location.protocol+"//"+window.location.host;t.a=Object(h.b)(null,{changeRatingAction:g.b})((function(e){var t=Object(i.useState)(0),n=Object(a.a)(t,2),o=n[0],l=n[1],s=e.readonly,d=e.readOnlyRating,p=e.hideReadOnlyLabel,b=e.userRating,h=e.userId,g=e.userName,y="";function O(t){var n=o===t?t-1:t;l(n),h&&g&&function(e,t,n,r){e.changeRatingAction({userId:t,userName:n,rating:r}),r||e.userHasReviewText?E.a.put(k+"/reviewRatings/rating",{mediaId:e.mediaId,mediaType:e.mediaType,userId:t,rating:r}).then((function(e){})).catch((function(e){})):E.a.delete(k+"/reviewRatings"+"/".concat(e.mediaType,"/").concat(e.mediaId,"/").concat(t)).then((function(e){})).catch((function(e){}))}(e,h,g,n)}return s&&d?y=d.toFixed(2):b&&(y=b.toFixed(2)),Object(i.useEffect)((function(){o||l(b||0)}),[b]),c.a.createElement(f.a,{display:"flex"},Object(r.a)(Array(5)).map((function(e,t){return c.a.createElement(w,{key:t},s?c.a.createElement(c.a.Fragment,null,function(e,t){var n=((null===t||void 0===t?void 0:t.toFixed(2))||"0.00").split("."),r=Object(a.a)(n,2),o=r[0],i=r[1],l=parseInt(o),s=parseInt(i);if(e+1<=l)return c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"});if(e!==l)return c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"});var f=50*Math.round(s/50);return 0===f?c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"}):50===f?c.a.createElement(v.a,{style:{fill:"#FFCC00"},fontSize:"small"}):100===f?c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"}):void 0}(t,d)):c.a.createElement(x,{size:"small",onClick:function(){return O(t+1)}},t<o?c.a.createElement(m.a,{style:{fill:"#FFCC00"}}):c.a.createElement(u.a,{style:{fill:"#FFCC00"}})))})),c.a.createElement(f.a,{ml:1},s&&!p&&y))}))},179:function(e,t,n){e.exports=n(199)},180:function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,l,"next",e)}function l(e){r(i,a,o,c,l,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return a}))},190:function(e,t,n){"use strict";var r=n(40),a=n(24),o=n(0),i=n.n(o),c=n(19),l=n(380),u=n(377),s=n(378),f=n(149),d=n(393),m=n(152),p=n(379),v=n(281),b=n(238),h=n(280),g=n(186),y=n.n(g),E=n(226),O=n.n(E),j=n(151),x=n(8),w=n(163),k=n(177),S=n(170),C=n(162),F=n.n(C),I=n(175);function P(){var e=Object(a.a)(["\n    &.MuiDialogActions-root {\n        box-shadow: 10px 10px 5px grey;\n    }\n"]);return P=function(){return e},e}function L(){var e=Object(a.a)(["\n    width: 100%;\n"]);return L=function(){return e},e}function M(){var e=Object(a.a)(["\n    background-color: ",";\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    &.MuiDialogTitle-root {\n        margin-bottom: 10px;\n        height: 25px;\n    }\n"]);return M=function(){return e},e}function T(){var e=Object(a.a)(["\n    color: white;\n    &:hover {\n        color: grey;\n    }\n"]);return T=function(){return e},e}function R(){var e=Object(a.a)(["\n    margin-right: 10px;\n    background: none;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:hover {\n        color: ",";\n    }\n"]);return R=function(){return e},e}var N=Object(c.b)(j.a)(R(),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[900]})),D=Object(c.b)(y.a)(T()),A=Object(c.b)(u.a)(M(),(function(e){return e.theme.palette.primary.main})),z=c.b.img(L()),_=Object(c.b)(s.a)(P()),G=function(e){var t=e.isOpen,n=e.modalData,a=e.setModalOpen,c=Object(x.g)(),l=Object(o.useState)([]),u=Object(r.a)(l,2),s=u[0],g=u[1],y=Object(o.useState)(0),E=Object(r.a)(y,2),j=E[0],C=E[1],P=Object(f.a)("(max-width:450px)"),L=Object(f.a)("(max-height:500px)");return Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType===w.a.book?"books":"movies";F.a.get("/".concat(r,"/tags/").concat(e)).then((function(e){var t=e.data;g(t.nextStoryTags)})).catch((function(e){}))}}),[n,t]),Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType;F.a.get("/reviewRatings/averageRating/".concat(r,"/").concat(e)).then((function(e){var t=e.data;C(t.average)})).catch((function(e){}))}}),[n,t]),i.a.createElement(d.a,{scroll:"paper",open:t,onClose:function(){return a(!1)},fullScreen:P||L},i.a.createElement(A,{disableTypography:!0},i.a.createElement(m.a,{onClick:function(){return a(!1)}},i.a.createElement(D,null))),i.a.createElement(p.a,null,i.a.createElement(v.a,{container:!0,direction:"column",spacing:2},i.a.createElement(v.a,{container:!0,direction:"row",spacing:2},i.a.createElement(v.a,{item:!0,sm:4,style:{width:"100%"}},i.a.createElement(b.a,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(z,{src:null===n||void 0===n?void 0:n.image}))),i.a.createElement(v.a,{item:!0,sm:8},i.a.createElement(h.a,{variant:"h3",gutterBottom:!0},null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.mediaType)===w.a.movie?"(Movie)":"(Book)"),i.a.createElement(h.a,{variant:"subtitle2"},"Avg members rating: ",!j&&"No rating"),j>0&&i.a.createElement(I.a,{readOnlyRating:j,readonly:!0}),"Genres:",i.a.createElement(S.a,{tags:(null===n||void 0===n?void 0:n.genres)||[],singleQueryType:w.b.genre}),s.length>0&&i.a.createElement(i.a.Fragment,null,"Tags:",i.a.createElement(S.a,{tagObjects:s||[],singleQueryType:w.b.tag})))),i.a.createElement(v.a,{item:!0,sm:12},i.a.createElement(k.a,{content:(null===n||void 0===n?void 0:n.blurb)||""})))),i.a.createElement(b.a,{boxShadow:3},i.a.createElement(_,null,i.a.createElement(N,{endIcon:i.a.createElement(O.a,null),onClick:function(){return function(){var e=n.id,t=n.mediaType;c.push("/".concat(t,"/").concat(e)),a(!1)}()}},"Go to page"))))};function B(){var e=Object(a.a)(["\n    height: 100%;\n    max-width: 100%;\n    cursor: pointer;\n    &:hover {\n        opacity: 50%;\n    }\n"]);return B=function(){return e},e}function Q(){var e=Object(a.a)(["\n    height: 250px;\n    width: 175px;\n    display: flex;\n    justify-content: center;\n    align-items: space-between;\n    flex-direction: column;\n"]);return Q=function(){return e},e}var W=Object(c.b)(l.a)(Q()),H=c.b.img(B());t.a=function(e){var t=e.cardData.image,n=Object(o.useState)(!1),a=Object(r.a)(n,2),c=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(G,{isOpen:c,setModalOpen:function(){return l(!1)},modalData:e.cardData}),i.a.createElement(W,{elevation:1},i.a.createElement(H,{src:t,onClick:function(){return l(!0)}})))}},199:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var s={};function f(){}function d(){}function m(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(w([])));b&&b!==t&&n.call(b,a)&&(p=b);var h=m.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h.constructor=m,m.constructor=d,d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(h),c(h,i,"Generator"),h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},283:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.default=o},284:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=(n(3),n(4)),c=n(171),l=n(5),u=n(280),s=n(9),f=o.forwardRef((function(e,t){e.checked;var n=e.classes,l=e.className,f=e.control,d=e.disabled,m=(e.inputRef,e.label),p=e.labelPlacement,v=void 0===p?"end":p,b=(e.name,e.onChange,e.value,Object(a.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),h=Object(c.a)(),g=d;"undefined"===typeof g&&"undefined"!==typeof f.props.disabled&&(g=f.props.disabled),"undefined"===typeof g&&h&&(g=h.disabled);var y={disabled:g};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof f.props[t]&&"undefined"!==typeof e[t]&&(y[t]=e[t])})),o.createElement("label",Object(r.a)({className:Object(i.a)(n.root,l,"end"!==v&&n["labelPlacement".concat(Object(s.a)(v))],g&&n.disabled),ref:t},b),o.cloneElement(f,y),o.createElement(u.a,{component:"span",className:Object(i.a)(n.label,g&&n.disabled)},m))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},285:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"InsertPhoto");t.default=o},286:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(63)).default)(a.default.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=o},372:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=(n(3),n(4)),c=n(5),l=n(50),u=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=o.forwardRef((function(e,t){var n=e.alt,c=e.children,l=e.classes,s=e.className,f=e.component,d=void 0===f?"div":f,m=e.imgProps,p=e.sizes,v=e.src,b=e.srcSet,h=e.variant,g=void 0===h?"circle":h,y=Object(a.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),E=null,O=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),a=r[0],i=r[1];return o.useEffect((function(){if(t||n){i(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&i("loaded")},r.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,n]),a}({src:v,srcSet:b}),j=v||b,x=j&&"error"!==O;return E=x?o.createElement("img",Object(r.a)({alt:n,src:v,srcSet:b,sizes:p,className:l.img},m)):null!=c?c:j&&n?n[0]:o.createElement(u,{className:l.fallback}),o.createElement(d,Object(r.a)({className:Object(i.a)(l.root,l.system,l[g],s,!x&&l.colorDefault),ref:t},y),E)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},388:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n(0),o=n.n(a),i=n(281),c=n(14),l=n(40),u=n(24),s=n(19),f=n(280),d=n(179),m=n.n(d),p=n(180),v=n(377),b=n(393),h=n(152),g=n(186),y=n.n(g),E=n(285),O=n.n(E),j=n(379),x=n(284),w=n(396),k=n(378),S=n(151),C=n(162),F=n.n(C),I=n(75),P=n(66),L=n(372),M=n(283),T=n.n(M);function R(){var e=Object(u.a)(["\n  &.MuiSvgIcon-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return R=function(){return e},e}function N(){var e=Object(u.a)(["\n  &.MuiAvatar-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return N=function(){return e},e}var D=Object(s.b)(L.a)(N()),A=Object(s.b)(T.a)(R()),z=function(e){var t=e.avatar;return o.a.createElement("div",null,t?o.a.createElement(D,{variant:"square"},o.a.createElement("img",{alt:"profile",src:t,width:"100%"})):o.a.createElement(A,{color:"disabled",fontSize:"large"}))};function _(){var e=Object(u.a)(["\n  display: none;\n"]);return _=function(){return e},e}function G(){var e=Object(u.a)(["\n  &.MuiFormControlLabel-root {\n    align-items: flex-start;\n    margin-left: 0;\n    margin-right: 0;\n  }\n  & > div {\n    min-width: 300px;\n  }\n"]);return G=function(){return e},e}function B(){var e=Object(u.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n    margin-bottom: 10px;\n  }\n  margin: 0 auto 10px auto;\n"]);return B=function(){return e},e}function Q(){var e=Object(u.a)(["\n  &.MuiButtonBase-root {\n    position: absolute;\n    color: #ffffff;\n  }\n  right: 5px;\n"]);return Q=function(){return e},e}function W(){var e=Object(u.a)(["\n  color: #ffffff;\n"]);return W=function(){return e},e}function H(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  background-color: #3f51b5;\n"]);return H=function(){return e},e}var U=Object(s.b)(v.a)(H()),V=Object(s.b)(f.a)(W()),J=Object(s.b)(h.a)(Q()),q=s.b.div(B()),Y=Object(s.b)(x.a)(G()),$=s.b.input(_()),K=Object(I.b)((function(e){var t,n,r;return{aboutMe:null===(t=e.profile)||void 0===t?void 0:t.message,photo:null===(n=e.profile)||void 0===n?void 0:n.avatar,id:null===(r=e.profile)||void 0===r?void 0:r._id}}),(function(e){return{updateProfile:function(t){return e((n=t,{type:P.b,data:n}));var n}}}))((function(e){var t=e.aboutMe,n=void 0===t?"":t,r=e.photo,i=e.isOpen,c=e.id,u=e.handleClose,s=e.updateProfile,d=window.location.protocol+"//"+window.location.host,v=Object(a.useState)(n),h=Object(l.a)(v,2),g=h[0],E=h[1],x=Object(a.useState)(r),C=Object(l.a)(x,2),I=C[0],P=C[1],L=Object(a.useState)(""),M=Object(l.a)(L,2),T=M[0],R=M[1],N=function(){D(),u()},D=function(){R(""),P(r),E(n)},A=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r,a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===(n=t.target.files)||void 0===n?void 0:n[0],(a=new FileReader).onload=function(e){var t,n=new Image;n.onload=function(){var e=document.createElement("canvas"),t=n.naturalWidth,r=n.naturalHeight,a=t,o=r;t/r>1?a=1*r:o=t/1;var i=Math.round((a-t)/2),c=Math.round((o-r)/2);e.width=a,e.height=o;var l=e.getContext("2d");null===l||void 0===l||l.drawImage(n,i,c);var u=e.toDataURL("image/jpeg");P(u)},n.src=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||""},r&&(parseFloat(null===(o=r.size/1024/1024)||void 0===o?void 0:o.toFixed(4))>8?R("File size exceeds 8Mb"):a.readAsDataURL(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T){e.next=12;break}return e.prev=2,e.next=5,F.a.put("".concat(d,"/users/edit/").concat(c),{message:g,avatar:I});case 5:n=e.sent,s(n.data),u(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){E(n)}),[n]),Object(a.useEffect)((function(){P(r)}),[r]),o.a.createElement(b.a,{open:i,onClose:N},o.a.createElement(U,{disableTypography:!0},o.a.createElement(V,{variant:"h4"},"Edit Profile"),o.a.createElement(J,{onClick:N},o.a.createElement(y.a,null))),o.a.createElement(j.a,{dividers:!0},o.a.createElement("form",{onSubmit:function(e){return _(e)}},o.a.createElement(q,null,o.a.createElement(z,{avatar:I}),o.a.createElement($,{accept:".png, .jpg, .jpeg",id:"upload-file-input",type:"file",onChange:A}),o.a.createElement("label",{htmlFor:"upload-file-input"},o.a.createElement(S.a,{component:"span",startIcon:o.a.createElement(O.a,null),variant:"contained"},"Upload")),T&&o.a.createElement(f.a,{variant:"subtitle2",color:"error"},T)),o.a.createElement(Y,{control:o.a.createElement(w.a,{multiline:!0,rows:4,value:g,onChange:function(e){E(e.target.value)}}),label:"About Me",labelPlacement:"top"}),o.a.createElement(k.a,null,o.a.createElement(S.a,{variant:"contained",onClick:D},"Cancel"),o.a.createElement(S.a,{color:"primary",variant:"contained",type:"submit"},"Submit")))))})),X=n(8);function Z(){var e=Object(u.a)(["\n  &.MuiButtonBase-root {\n    position: absolute;\n    color: #ffffff;\n  }\n  right: 5px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(u.a)(["\n  color: #ffffff;\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  background-color: #3f51b5;\n"]);return te=function(){return e},e}var ne=Object(s.b)(v.a)(te()),re=Object(s.b)(f.a)(ee()),ae=Object(s.b)(h.a)(Z()),oe=Object(I.b)((function(e){return{userId:e.profile.userId}}))((function(e){var t=e.isOpen,n=e.handleClose,r=e.userId,a=Object(X.g)(),i=window.location.protocol+"//"+window.location.host,c=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.delete("".concat(i,"/users/").concat(r));case 3:if(0!==e.sent.data.ok){e.next=6;break}throw new Error("0 profile deleted");case 6:sessionStorage.clear(),a.go(0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(b.a,{open:t,onClose:n},o.a.createElement(ne,{disableTypography:!0},o.a.createElement(re,{variant:"h4"},"Edit Profile"),o.a.createElement(ae,{onClick:n},o.a.createElement(y.a,null))),o.a.createElement(j.a,{dividers:!0},o.a.createElement("div",null,o.a.createElement(f.a,{variant:"body1"},"Deleting an account is an irreversible action. Once you delete your account, we will not be able to restore you account information. Do you wish to proceed?")),o.a.createElement(k.a,null,o.a.createElement(S.a,{variant:"contained",onClick:c},"Yes"),o.a.createElement(S.a,{color:"primary",variant:"contained",onClick:n},"No"))))}));function ie(){var e=Object(u.a)(["\n  cursor: pointer;\n  :hover {\n    & .MuiTypography-root {\n      text-decoration: underline;\n    }\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(u.a)(["\n  &.MuiTypography-body1 {\n    font-weight: bold;\n  }\n"]);return ce=function(){return e},e}function le(){var e=Object(u.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n  }\n"]);return le=function(){return e},e}function ue(){var e=Object(u.a)(["\n  flex: 0 1 auto;\n  min-width: 300px;\n  & > * {\n    margin-bottom: 10px;\n  }\n"]);return ue=function(){return e},e}var se=s.b.div(ue()),fe=s.b.div(le()),de=Object(s.b)(f.a)(ce()),me=s.b.div(ie()),pe=function(e){var t=e.avatar,n=e.about,r=e.email,i=e.booksCount,u=e.moviesCount,s=e.name,d=Object(a.useState)({editProfile:!1,deleteAccount:!1}),m=Object(l.a)(d,2),p=m[0],v=m[1];return o.a.createElement(se,{id:"userinfo"},o.a.createElement(K,{isOpen:p.editProfile,handleClose:function(){return v(Object(c.a)(Object(c.a)({},p),{},{editProfile:!1}))}}),o.a.createElement(oe,{isOpen:p.deleteAccount,handleClose:function(){return v(Object(c.a)(Object(c.a)({},p),{},{deleteAccount:!1}))}}),o.a.createElement(fe,null,o.a.createElement(z,{avatar:t}),o.a.createElement(me,{onClick:function(){return v(Object(c.a)(Object(c.a)({},p),{},{editProfile:!0}))}},o.a.createElement(f.a,{align:"center",color:"secondary",variant:"body1"},"Edit Profile"))),o.a.createElement("div",null,o.a.createElement(f.a,{variant:"body2"},"User Name: ".concat(s)),o.a.createElement(f.a,{variant:"body2"},"Books Read: ".concat(i)),o.a.createElement(f.a,{variant:"body2"},"Movies Watched: ".concat(u))),o.a.createElement("div",null,o.a.createElement(de,null,"About Me"),o.a.createElement(f.a,{variant:"body2"},n)),o.a.createElement("div",null,o.a.createElement(de,null,"Contact"),o.a.createElement(f.a,{variant:"body2"},r)),o.a.createElement(S.a,{variant:"contained",onClick:function(){return v(Object(c.a)(Object(c.a)({},p),{},{deleteAccount:!0}))}},"Delete Account"))},ve=n(149),be=n(164),he=n(64),ge=n(192),ye=n.n(ge),Ee=(n(194),n(190)),Oe=n(286),je=n.n(Oe);function xe(){var e=Object(u.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n"]);return xe=function(){return e},e}function we(){var e=Object(u.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.23);\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  :hover{\n    cursor: pointer;\n  }\n"]);return we=function(){return e},e}function ke(){var e=Object(u.a)(["\n  &.MuiOutlinedInput-root {\n    border-radius: 4px 0 0 4px;\n  }\n"]);return ke=function(){return e},e}function Se(){var e=Object(u.a)(["\n  &.MuiGrid-container {\n    flex-wrap: nowrap;\n  }\n"]);return Se=function(){return e},e}var Ce=Object(s.b)(i.a)(Se()),Fe=Object(s.b)(w.a)(ke()),Ie=Object(s.b)(i.a)(we()),Pe=s.b.div(xe()),Le=function(){return o.a.createElement("div",null,o.a.createElement(Ce,{container:!0,spacing:0,alignItems:"stretch"},o.a.createElement(i.a,{item:!0},o.a.createElement(Fe,{name:"search",type:"search",placeholder:"Search"})),o.a.createElement(Ie,{item:!0},o.a.createElement(Pe,null,o.a.createElement(je.a,{fontSize:"large"})))))},Me=n(391),Te=function(){return o.a.createElement(Me.a,{variant:"outlined",native:!0},o.a.createElement("option",{value:1},"Option 1"),o.a.createElement("option",{value:2},"Option 2"))},Re=n(163);function Ne(){var e=Object(u.a)(["\n  margin-top: 20px;\n"]);return Ne=function(){return e},e}var De=Object(s.b)(ye.a)(Ne()),Ae=function(){return o.a.createElement(i.a,{spacing:1,container:!0},o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(Te,null)),o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(Le,null)))},ze=Object(I.b)()((function(e){e.bookIds,e.movieIds;var t=e.title,n=e.withSearchSelect,r=(e.updateMethod,e.bMSource),i=sessionStorage.getItem("NS-session-data"),c=(i&&JSON.parse(i)).userId,u=Object(a.useState)([{title:"",id:"",mediaType:Re.a.start,image:"",people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),s=Object(l.a)(u,2),d=s[0],m=s[1];Object(a.useEffect)((function(){F.a.get("/users/userLists/".concat(c)).then((function(e){var t=e.data,n=[];r.includes("favorite")?(n.push.apply(n,t.favoriteMoviesDetails),n.push.apply(n,t.favoriteBooksDetails)):r.includes("read")?(n.push.apply(n,t.watchLaterDetails),n.push.apply(n,t.readLaterDetails)):r.includes("later")&&(n.push.apply(n,t.booksReadDetails),n.push.apply(n,t.moviesWatchedDetails)),m(n)})).catch((function(e){}))}),[]);var p=d.map((function(e,t){return o.a.createElement(Ee.a,{key:t,cardData:e})})),v=Object(he.a)(p);return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{variant:"h4"},t),o.a.createElement("div",null,n&&o.a.createElement(Ae,null)),o.a.createElement(De,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xmd","sm","xs"],responsive:{xl:{breakpoint:{max:3e3,min:1200},items:2.4,partialVisibilityGutter:40},lg:{breakpoint:{max:1200,min:960},items:1.5,partialVisibilityGutter:20},md:{breakpoint:{max:960,min:768},items:2,partialVisibilityGutter:0},xmd:{breakpoint:{max:768,min:480},items:1.5,partialVisibilityGutter:20},sm:{breakpoint:{max:480,min:0},items:.8,partialVisibilityGutter:50}}},v))})),_e=n(170),Ge=n(67);function Be(){var e=Object(u.a)(["\n  min-width: 350px;\n  margin: 0 auto;\n"]);return Be=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  > * {\n    :not(:first-child) {\n      margin-top: 30px;\n    }\n  }\n"]);return Qe=function(){return e},e}var We=s.b.div(Qe()),He=s.b.div(Be()),Ue=Object(I.b)(null,(function(e){return{setFavorites:function(t){return e((n=t,{type:Ge.a,data:n}));var n},setLater:function(t){return e((n=t,{type:Ge.b,data:n}));var n}}}))((function(e){var t=e.favoriteAuthors,n=e.favoriteBooks,r=e.favoriteDirectors,a=e.favoriteGenres,i=e.favoriteMovies,c=e.favoriteNextStoryTags,l=e.readLater,u=e.watchLater,s=e.setFavorites,d=e.setLater;return o.a.createElement(We,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(He,null,o.a.createElement(f.a,{variant:"h4"},"Favourite Genres:"),o.a.createElement(_e.a,{tags:Object(he.a)(a),singleQueryType:Re.b.genre})),o.a.createElement(He,null,o.a.createElement(f.a,{variant:"h4"},"Favourite Tags:"),o.a.createElement(_e.a,{tagObjects:Object(he.a)(c),singleQueryType:Re.b.tag})),o.a.createElement(He,null,o.a.createElement(f.a,{variant:"h4"},"Favourite Authors:"),o.a.createElement(_e.a,{tags:t,singleQueryType:Re.b.bookPerson})),o.a.createElement(He,null,o.a.createElement(f.a,{variant:"h4"},"Favourite Directors:"),o.a.createElement(_e.a,{tags:r,singleQueryType:Re.b.moviePerson})),o.a.createElement(He,null,o.a.createElement(ze,{bookIds:n,bMSource:"favorite",movieIds:i,title:"Favourite Books/Movies:",updateMethod:s})),o.a.createElement(He,null,o.a.createElement(ze,{bMSource:"read",title:"User's Read/Watched List",bookIds:l,movieIds:u,updateMethod:d})),o.a.createElement(He,null,o.a.createElement(ze,{bMSource:"later",title:"User's Read/Watched Later List",bookIds:l,movieIds:u,updateMethod:d}))))}));t.default=Object(I.b)((function(e){return{profile:e.profile}}),(function(e){return{setProfile:function(t){return e(function(e){return{type:P.a,profile:e}}(t))}}}))((function(e){var t=e.profile,n=t.avatar,c=t.booksRead,l=t.email,u=t.message,s=t.moviesWatched,f=t.name,d=Object(r.a)(t,["avatar","booksRead","email","message","moviesWatched","name"]),m=e.setProfile,p=Object(ve.a)("(min-width: 960px)"),v=window.location.protocol+"//"+window.location.host;return Object(a.useEffect)((function(){var e=sessionStorage.getItem("NS-session-data"),t=e&&JSON.parse(e).userId;F.a.get("".concat(v,"/users/").concat(t)).then((function(e){m(e.data)})).catch((function(e){}))}),[]),o.a.createElement(be.a,{maxWidth:p?"lg":"sm"},o.a.createElement(i.a,{container:!0,spacing:5},o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(pe,{about:u,avatar:n,booksCount:c.length,email:l,moviesCount:s.length,name:f})),o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:7},o.a.createElement(Ue,d))))}))}}]);
//# sourceMappingURL=11.efa42929.chunk.js.map