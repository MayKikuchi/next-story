(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[13],{162:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.movie="movie",e.book="book",e.start=""}(a||(a={})),function(e){e.bookPerson="bookPerson",e.moviePerson="moviePerson",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(r||(r={}))},164:function(e,t,n){"use strict";var a=n(17),r=n(0),i=n.n(r),c=n(249),o=n(15);function l(){var e=Object(a.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return l=function(){return e},e}var u=Object(o.b)(c.a)(l());t.a=function(e){return i.a.createElement(u,{maxWidth:e.maxWidth},e.children)}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(77),r=function(e){return{type:a.a,filterName:e}}},170:function(e,t,n){"use strict";var a=n(17),r=n(0),i=n.n(r),c=n(15),o=n(8),l=n(162),u=n(41),s=n(75),m=n(166);function f(){var e=Object(a.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return f=function(){return e},e}var g=c.b.button(f(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),b=Object(s.b)(null,{changeSingleSearchPageFilter:m.a})((function(e){var t=e.label,n=e.tagId,a=e.singleQueryType,r=Object(o.g)(),c=encodeURIComponent(n||t);return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(g,{onClick:function(){!function(e,t){switch(t){case l.b.bookPerson:e.changeSingleSearchPageFilter(u.b);break;case l.b.moviePerson:e.changeSingleSearchPageFilter(u.d);break;case l.b.tag:case l.b.genre:case l.b.searchBar:default:e.changeSingleSearchPageFilter(u.a)}}(e,a),r.push("/searchResult/param?singleQueryType=".concat(a,"&query=").concat(c))}},t))}));function d(){var e=Object(a.a)(["\n    margin-bottom: 15px;\n"]);return d=function(){return e},e}var p=c.b.div(d());t.a=function(e){var t=e.singleQueryType,n=e.tags,a=e.tagObjects;return i.a.createElement(p,null,n&&n.map((function(e,n){return i.a.createElement(b,{key:n,label:e,singleQueryType:t})})),!n&&a&&a.map((function(e,n){return i.a.createElement(b,{key:n,label:e.tagName,singleQueryType:t,tagId:e.tagId})})))}},173:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(30),r=function(e){return{type:a.e,reviewsArray:e}},i=function(e){return{type:a.a,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},c=function(e){return{type:a.c,userId:e}},o=function(e){return{type:a.d,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},l=function(e){return{type:a.b,userId:e.userId,userName:e.userName,rating:e.rating}}},176:function(e,t,n){"use strict";var a=n(64),r=n(40),i=n(17),c=n(0),o=n.n(c),l=n(182),u=n.n(l),s=n(152),m=n(239),f=n(181),g=n.n(f),b=n(183),d=n.n(b),p=n(15),h=n(75),v=n(173),y=n(163),x=n.n(y);function O(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n"]);return O=function(){return e},e}function j(){var e=Object(i.a)(["\n    padding: 0px !important;\n"]);return j=function(){return e},e}var E=Object(p.b)(s.a)(j()),S=p.b.div(O()),k=window.location.protocol+"//"+window.location.host;t.a=Object(h.b)(null,{changeRatingAction:v.b})((function(e){var t=Object(c.useState)(0),n=Object(r.a)(t,2),i=n[0],l=n[1],s=e.readonly,f=e.readOnlyRating,b=e.hideReadOnlyLabel,p=e.userRating,h=e.userId,v=e.userName,y="";function O(t){var n=i===t?t-1:t;l(n),h&&v&&function(e,t,n,a){e.changeRatingAction({userId:t,userName:n,rating:a}),a||e.userHasReviewText?x.a.put(k+"/reviewRatings/rating",{mediaId:e.mediaId,mediaType:e.mediaType,userId:t,rating:a}).then((function(e){console.log("Successfully put the rating: ",e)})).catch((function(e){console.log(e)})):x.a.delete(k+"/reviewRatings"+"/".concat(e.mediaType,"/").concat(e.mediaId,"/").concat(t)).then((function(e){console.log("Successfully deleted the reviewRating",e)})).catch((function(e){console.log(e)}))}(e,h,v,n)}return s&&f?y=f.toFixed(2):p&&(y=p.toFixed(2)),Object(c.useEffect)((function(){i||l(p||0)}),[p]),o.a.createElement(m.a,{display:"flex"},Object(a.a)(Array(5)).map((function(e,t){return o.a.createElement(S,{key:t},s?o.a.createElement(o.a.Fragment,null,function(e,t){var n=((null===t||void 0===t?void 0:t.toFixed(2))||"0.00").split("."),a=Object(r.a)(n,2),i=a[0],c=a[1],l=parseInt(i),s=parseInt(c);if(e+1<=l)return o.a.createElement(g.a,{style:{fill:"#FFCC00"},fontSize:"small"});if(e!==l)return o.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"});var m=50*Math.round(s/50);return 0===m?o.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"}):50===m?o.a.createElement(d.a,{style:{fill:"#FFCC00"},fontSize:"small"}):100===m?o.a.createElement(g.a,{style:{fill:"#FFCC00"},fontSize:"small"}):void 0}(t,f)):o.a.createElement(E,{size:"small",onClick:function(){return O(t+1)}},t<i?o.a.createElement(g.a,{style:{fill:"#FFCC00"}}):o.a.createElement(u.a,{style:{fill:"#FFCC00"}})))})),o.a.createElement(m.a,{ml:1},s&&!b&&y))}))},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(41),r=function(e){return{type:a.c,filterName:e}}},184:function(e,t,n){e.exports=n.p+"static/media/MockCover.4d59545d.png"},185:function(e,t,n){e.exports=n.p+"static/media/MockBookCover.db0a0480.jpg"},189:function(e,t,n){"use strict";var a=n(40),r=n(17),i=n(0),c=n.n(i),o=n(15),l=n(381),u=n(119),s=n(148),m=n(156),f=n(152),g=n(278),b=n(194),d=n.n(b),p=n(227),h=n.n(p),v=n(149),y=n(8),x=n(162),O=n(175),j=n(170),E=n(163),S=n.n(E),k=n(176);function F(){var e=Object(r.a)(["\n    color: white;\n    &:hover {\n        color: grey;\n    }\n"]);return F=function(){return e},e}function P(){var e=Object(r.a)(["\n    margin-right: 10px;\n    background: none;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:hover {\n        color: ",";\n    }\n"]);return P=function(){return e},e}function w(){var e=Object(r.a)(["\n    height: 35px;\n    width: 100%;\n    position:absolute;\n    bottom:0;\n    display: flex;\n    justify-content: flex-end;\n"]);return w=function(){return e},e}function T(){var e=Object(r.a)(["\n    margin: 10px;\n    margin-bottom: ",";\n"]);return T=function(){return e},e}function R(){var e=Object(r.a)(["\n    overflow: auto;\n"]);return R=function(){return e},e}function C(){var e=Object(r.a)(["\n    max-height: ",";\n    display: flex;\n    flex-direction: column;\n    margin-right: 10px;\n    margin-left: 10px;\n"]);return C=function(){return e},e}function I(){var e=Object(r.a)(["\n    max-width: ",";\n"]);return I=function(){return e},e}function D(){var e=Object(r.a)(["\n    max-height: ",";\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    margin: 10px;\n    overflow: auto;\n"]);return D=function(){return e},e}function G(){var e=Object(r.a)(["\n    height: ",";\n    overflow: auto;\n"]);return G=function(){return e},e}function B(){var e=Object(r.a)(["\n    background-color: ",";\n    height: 50px;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n"]);return B=function(){return e},e}function M(){var e=Object(r.a)(["\n    width: ",";\n    height: ",";\n    position: absolute;\n    left: 50% !important;\n    top: 50% !important;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    position: relative;\n"]);return M=function(){return e},e}var V=o.b.div(M(),(function(e){return e.isSmall||e.isShort?"100vw":"500px"}),(function(e){return e.isSmall||e.isShort?"100vh":"500px"})),A=o.b.div(B(),(function(e){return e.theme.palette.primary.main})),N=o.b.div(G(),(function(e){return e.isSmall||e.isShort?"100%":"450px"})),H=o.b.div(D(),(function(e){return e.isShort?"80%":"350px"})),z=o.b.img(I(),(function(e){return e.isShort?"30%":"50%"})),Q=o.b.div(C(),(function(e){return e.isShort?"80%":"350px"})),W=o.b.div(R()),J=o.b.div(T(),(function(e){return e.isSmall||e.isShort?"100px":"35px"})),L=Object(o.b)(u.a)(w()),U=Object(o.b)(v.a)(P(),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[900]})),q=Object(o.b)(d.a)(F()),K=function(e){var t=e.isOpen,n=e.modalData,r=e.setModalOpen,o=Object(y.g)(),l=Object(i.useState)([]),u=Object(a.a)(l,2),b=u[0],d=u[1],p=Object(i.useState)(0),v=Object(a.a)(p,2),E=v[0],F=v[1],P=Object(s.a)("(max-width:450px)"),w=Object(s.a)("(max-height:500px)");return Object(i.useEffect)((function(){if(t){var e=n.id,a=n.mediaType===x.a.book?"books":"movies";S.a.get("/".concat(a,"/tags/").concat(e)).then((function(e){var t=e.data;d(t.nextStoryTags)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),Object(i.useEffect)((function(){if(t){var e=n.id,a=n.mediaType;S.a.get("/reviewRatings/averageRating/".concat(a,"/").concat(e)).then((function(e){var t=e.data;F(t.average)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),c.a.createElement(m.a,{open:t,onClose:function(){return r(!1)}},c.a.createElement(V,{isSmall:P,isShort:w},c.a.createElement(A,null,c.a.createElement(f.a,{onClick:function(){return r(!1)}},c.a.createElement(q,null))),c.a.createElement(N,{isSmall:P,isShort:w},c.a.createElement(H,{isShort:w},c.a.createElement(z,{src:null===n||void 0===n?void 0:n.image,isShort:w}),c.a.createElement(Q,{isShort:w},c.a.createElement(g.a,{variant:"h3",gutterBottom:!0},null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.mediaType)===x.a.movie?"(Movie)":"(Book)"),c.a.createElement(g.a,{variant:"subtitle2"},"Avg members rating: ",!E&&"No rating"),E>0&&c.a.createElement(k.a,{readOnlyRating:E,readonly:!0}),c.a.createElement(W,null,"Genres:",c.a.createElement(j.a,{tags:(null===n||void 0===n?void 0:n.genres)||[],singleQueryType:x.b.genre}),b.length>0&&c.a.createElement(c.a.Fragment,null,"Tags:",c.a.createElement(j.a,{tagObjects:b||[],singleQueryType:x.b.tag}))))),c.a.createElement(J,{isSmall:P,isShort:w},c.a.createElement(O.a,{content:(null===n||void 0===n?void 0:n.blurb)||""}))),c.a.createElement(L,{elevation:3},c.a.createElement(U,{endIcon:c.a.createElement(h.a,null),onClick:function(){return function(){var e=n.id,t=n.mediaType;o.push("/".concat(t,"/").concat(e)),r(!1)}()}},"Go to page"))))};function X(){var e=Object(r.a)(["\n    height: 100%;\n    max-width: 100%;\n    cursor: pointer;\n    &:hover {\n        opacity: 50%;\n    }\n"]);return X=function(){return e},e}function Y(){var e=Object(r.a)(["\n    height: 250px;\n    width: 175px;\n    display: flex;\n    justify-content: center;\n    align-items: space-between;\n    flex-direction: column;\n"]);return Y=function(){return e},e}var Z=Object(o.b)(l.a)(Y()),$=o.b.img(X());t.a=function(e){var t=e.cardData.image,n=Object(i.useState)(!1),r=Object(a.a)(n,2),o=r[0],l=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,{isOpen:o,setModalOpen:function(){return l(!1)},modalData:e.cardData}),c.a.createElement(Z,{elevation:1},c.a.createElement($,{src:t,onClick:function(){return l(!0)}})))}},195:function(e,t,n){"use strict";var a=n(40),r=n(17),i=n(0),c=n.n(i),o=n(15),l=n(155),u=n(157),s=n(151),m=n(75),f=n(179),g=n(41),b=n(166);function d(){var e=Object(r.a)(["\n"]);return d=function(){return e},e}var p=Object(o.b)(l.a)(d());t.a=Object(m.b)((function(e){return{singleSearchPageFilter:e.singleSearchPageFilterReducer}}),{changeHomePageFilter:f.a,changeSingleSearchPageFilter:b.a})((function(e){var t=e.singleSearchPageFilter,n=e.isSearchPage,r=c.a.useState("all"),o=Object(a.a)(r,2),l=o[0],m=o[1];return Object(i.useEffect)((function(){n&&t&&m(t)}),[t]),Object(i.useEffect)((function(){switch(l){case"all":n?e.changeSingleSearchPageFilter(g.a):e.changeHomePageFilter(g.a);break;case"movies":n?e.changeSingleSearchPageFilter(g.d):e.changeHomePageFilter(g.d);break;case"books":n?e.changeSingleSearchPageFilter(g.b):e.changeHomePageFilter(g.b)}}),[l]),c.a.createElement(u.a,{smDown:!0},c.a.createElement(p,{value:l,onChange:function(e,t){m(t)},"aria-label":"home-page-filter",centered:!0},c.a.createElement(s.a,{component:"a",label:"All",value:"all"}),c.a.createElement(s.a,{component:"a",label:"Movies",value:"movies"}),c.a.createElement(s.a,{component:"a",label:"Books",value:"books"})))}))},196:function(e,t,n){"use strict";var a=n(40),r=n(17),i=n(0),c=n.n(i),o=n(15),l=n(279),u=n(157),s=n(280),m=n(197),f=n.n(m),g=n(198),b=n.n(g),d=n(199),p=n.n(d),h=n(75),v=n(179),y=n(166),x=n(41);function O(){var e=Object(r.a)(["\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n"]);return O=function(){return e},e}var j=Object(o.b)(l.a)(O());t.a=Object(h.b)((function(e){return{singleSearchPageFilter:e.singleSearchPageFilterReducer}}),{changeHomePageFilter:v.a,changeSingleSearchPageFilter:y.a})((function(e){var t=e.singleSearchPageFilter,n=e.isSearchPage,r=Object(i.useState)(x.a),o=Object(a.a)(r,2),l=o[0],m=o[1];return Object(i.useEffect)((function(){n&&t&&m(t)}),[t]),Object(i.useEffect)((function(){switch(l){case"all":n?e.changeSingleSearchPageFilter(x.a):e.changeHomePageFilter(x.a);break;case"movies":n?e.changeSingleSearchPageFilter(x.d):e.changeHomePageFilter(x.d);break;case"books":n?e.changeSingleSearchPageFilter(x.b):e.changeHomePageFilter(x.b)}}),[l]),c.a.createElement(u.a,{mdUp:!0},c.a.createElement(j,{value:l,onChange:function(e,t){m(t)},showLabels:!0,"aria-label":"home-page-filter"},c.a.createElement(s.a,{label:"All",icon:c.a.createElement(f.a,null),value:"all"}),c.a.createElement(s.a,{label:"Movies",icon:c.a.createElement(b.a,null),value:"movies"}),c.a.createElement(s.a,{label:"Books",icon:c.a.createElement(p.a,null),value:"books"})))}))},393:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(164),c=n(278),o=n(64),l=n(40),u=n(17),s=n(191),m=n.n(s),f=(n(193),n(189)),g=n(15),b=n(184),d=n.n(b),p=n(185),h=n.n(p),v=n(162),y=n(163),x=n.n(y),O=n(75),j=n(41);function E(){var e=Object(u.a)(["\n    margin-top: 20px;\n"]);return E=function(){return e},e}var S=Object(g.b)(m.a)(E()),k=Object(O.b)((function(e){return{homePageFilterReducer:e.homePageFilterReducer}}))((function(e){var t=Object(a.useState)([{title:"",id:"",mediaType:v.a.start,image:d.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),n=Object(l.a)(t,2),i=n[0],c=n[1],u=Object(a.useState)([{title:"",id:"",mediaType:v.a.start,image:h.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),s=Object(l.a)(u,2),m=s[0],g=s[1],b=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(x.a.get("/thirdPartyMovieApi/tmdbMovies/popularMovies").then((function(e){var t=e.data;if(!b.current)return null;c(t)})).catch((function(e){console.log(e)})),x.a.get("/thirdPartyBookApi/googleBooks/popularBooks").then((function(e){var t=e.data;if(!b.current)return null;g(t)})).catch((function(e){console.log(e)})),m.length>1&&i.length>1)return function(){b.current=!1}}),[]);return r.a.createElement(S,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xxs","xs","sm"],responsive:{xl:{breakpoint:{max:3e3,min:1920},items:6,partialVisibilityGutter:40},lg:{breakpoint:{max:1920,min:1280},items:5,partialVisibilityGutter:30},md:{breakpoint:{max:1280,min:1100},items:4,partialVisibilityGutter:0},xmd:{breakpoint:{max:1100,min:900},items:3,partialVisibilityGutter:0},sm:{breakpoint:{max:900,min:600},items:2,partialVisibilityGutter:0},xs:{breakpoint:{max:600,min:400},items:1,partialVisibilityGutter:0},xxs:{breakpoint:{max:400,min:0},items:.5,partialVisibilityGutter:100}}},function(e){switch(e){case j.a:return[].concat(Object(o.a)(m),Object(o.a)(i)).map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));case j.d:return i.map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));case j.b:return m.map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));default:return[].concat(Object(o.a)(m),Object(o.a)(i)).map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}))}}(e.homePageFilterReducer))}));function F(){var e=Object(u.a)(["\n    margin-top: 20px;\n"]);return F=function(){return e},e}var P=Object(g.b)(m.a)(F()),w=Object(O.b)((function(e){return{homePageFilterReducer:e.homePageFilterReducer}}))((function(e){var t=Object(a.useState)([{title:"",id:"",mediaType:v.a.start,image:d.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),n=Object(l.a)(t,2),i=n[0],c=n[1],u=Object(a.useState)([{title:"",id:"",mediaType:v.a.start,image:h.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),s=Object(l.a)(u,2),m=s[0],g=s[1],b=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(x.a.get("/thirdPartyMovieApi/tmdbMovies/movieRecommendations").then((function(e){var t=e.data;if(!b.current)return null;c(t)})).catch((function(e){console.log(e)})),x.a.get("/thirdPartyBookApi/googleBooks/bookRecommendations").then((function(e){var t=e.data;if(!b.current)return null;g(t)})).catch((function(e){console.log(e)})),m.length>1&&i.length>1)return function(){b.current=!1}}),[]);return r.a.createElement(P,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xxs","xs","sm"],responsive:{xl:{breakpoint:{max:3e3,min:1920},items:6,partialVisibilityGutter:40},lg:{breakpoint:{max:1920,min:1280},items:5,partialVisibilityGutter:30},md:{breakpoint:{max:1280,min:1100},items:4,partialVisibilityGutter:0},xmd:{breakpoint:{max:1100,min:900},items:3,partialVisibilityGutter:0},sm:{breakpoint:{max:900,min:600},items:2,partialVisibilityGutter:0},xs:{breakpoint:{max:600,min:400},items:1,partialVisibilityGutter:0},xxs:{breakpoint:{max:400,min:0},items:.5,partialVisibilityGutter:100}}},function(e){switch(e){case j.a:return[].concat(Object(o.a)(m),Object(o.a)(i)).map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));case j.d:return i.map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));case j.b:return m.map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}));default:return[].concat(Object(o.a)(m),Object(o.a)(i)).map((function(e,t){return r.a.createElement(f.a,{key:t,cardData:e})}))}}(e.homePageFilterReducer))})),T=n(195),R=n(196);t.default=function(){return r.a.createElement(i.a,{maxWidth:"lg"},r.a.createElement(T.a,null),r.a.createElement(c.a,{variant:"h1"},"Recommendation"),r.a.createElement(w,null),r.a.createElement("br",null),r.a.createElement(c.a,{variant:"h1"},"Popular"),r.a.createElement(k,null),r.a.createElement(R.a,null))}}}]);
//# sourceMappingURL=13.29d45f12.chunk.js.map