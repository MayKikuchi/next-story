(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[12],{157:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.movie="movie",e.book="book",e.start=""}(r||(r={})),function(e){e.bookPerson="bookPerson",e.moviePerson="moviePerson",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(a||(a={}))},159:function(e,t,n){"use strict";var r=n(17),a=n(0),o=n.n(a),i=n(244),c=n(14);function l(){var e=Object(r.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return l=function(){return e},e}var u=Object(c.b)(i.a)(l());t.a=function(e){return o.a.createElement(u,{maxWidth:e.maxWidth},e.children)}},160:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(75),a=function(e){return{type:r.a,filterName:e}}},165:function(e,t,n){"use strict";var r=n(17),a=n(0),o=n.n(a),i=n(14),c=n(7),l=n(157),u=n(41),s=n(73),f=n(160);function d(){var e=Object(r.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return d=function(){return e},e}var m=i.b.button(d(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),p=Object(s.b)(null,{changeSingleSearchPageFilter:f.a})((function(e){var t=e.label,n=e.tagId,r=e.singleQueryType,a=Object(c.g)(),i=encodeURIComponent(n||t);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(m,{onClick:function(){!function(e,t){switch(t){case l.b.bookPerson:e.changeSingleSearchPageFilter(u.b);break;case l.b.moviePerson:e.changeSingleSearchPageFilter(u.d);break;case l.b.tag:case l.b.genre:case l.b.searchBar:default:e.changeSingleSearchPageFilter(u.a)}}(e,r),a.push("/searchResult/param?singleQueryType=".concat(r,"&query=").concat(i))}},t))}));function b(){var e=Object(r.a)(["\n    margin-bottom: 15px;\n"]);return b=function(){return e},e}var g=i.b.div(b());t.a=function(e){var t=e.singleQueryType,n=e.tags,r=e.tagObjects;return o.a.createElement(g,null,n&&n.map((function(e,n){return o.a.createElement(p,{key:n,label:e,singleQueryType:t})})),!n&&r&&r.map((function(e,n){return o.a.createElement(p,{key:n,label:e.tagName,singleQueryType:t,tagId:e.tagId})})))}},168:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(30),a=function(e){return{type:r.e,reviewsArray:e}},o=function(e){return{type:r.a,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},i=function(e){return{type:r.c,userId:e}},c=function(e){return{type:r.d,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},l=function(e){return{type:r.b,userId:e.userId,userName:e.userName,rating:e.rating}}},170:function(e,t,n){"use strict";var r=n(63),a=n(40),o=n(17),i=n(0),c=n.n(i),l=n(176),u=n.n(l),s=n(148),f=n(234),d=n(175),m=n.n(d),p=n(177),b=n.n(p),g=n(14),v=n(73),h=n(168),y=n(158),O=n.n(y);function j(){var e=Object(o.a)(["\n    display: flex;\n    align-items: center;\n"]);return j=function(){return e},e}function E(){var e=Object(o.a)(["\n    padding: 0px !important;\n"]);return E=function(){return e},e}var x=Object(g.b)(s.a)(E()),w=g.b.div(j()),S=window.location.protocol+"//"+window.location.host;t.a=Object(v.b)(null,{changeRatingAction:h.b})((function(e){var t=Object(i.useState)(0),n=Object(a.a)(t,2),o=n[0],l=n[1],s=e.readonly,d=e.readOnlyRating,p=e.hideReadOnlyLabel,g=e.userRating,v=e.userId,h=e.userName,y="";function j(t){var n=o===t?t-1:t;l(n),v&&h&&function(e,t,n,r){e.changeRatingAction({userId:t,userName:n,rating:r}),r||e.userHasReviewText?O.a.put(S+"/reviewRatings/rating",{mediaId:e.mediaId,mediaType:e.mediaType,userId:t,rating:r}).then((function(e){console.log("Successfully put the rating: ",e)})).catch((function(e){console.log(e)})):O.a.delete(S+"/reviewRatings"+"/".concat(e.mediaType,"/").concat(e.mediaId,"/").concat(t)).then((function(e){console.log("Successfully deleted the reviewRating",e)})).catch((function(e){console.log(e)}))}(e,v,h,n)}return s&&d?y=d.toFixed(2):g&&(y=g.toFixed(2)),Object(i.useEffect)((function(){o||l(g||0)}),[g]),c.a.createElement(f.a,{display:"flex"},Object(r.a)(Array(5)).map((function(e,t){return c.a.createElement(w,{key:t},s?c.a.createElement(c.a.Fragment,null,function(e,t){var n=((null===t||void 0===t?void 0:t.toFixed(2))||"0.00").split("."),r=Object(a.a)(n,2),o=r[0],i=r[1],l=parseInt(o),s=parseInt(i);if(e+1<=l)return c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"});if(e!==l)return c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"});var f=50*Math.round(s/50);return 0===f?c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"}):50===f?c.a.createElement(b.a,{style:{fill:"#FFCC00"},fontSize:"small"}):100===f?c.a.createElement(m.a,{style:{fill:"#FFCC00"},fontSize:"small"}):void 0}(t,d)):c.a.createElement(x,{size:"small",onClick:function(){return j(t+1)}},t<o?c.a.createElement(m.a,{style:{fill:"#FFCC00"}}):c.a.createElement(u.a,{style:{fill:"#FFCC00"}})))})),c.a.createElement(f.a,{ml:1},s&&!p&&y))}))},178:function(e,t,n){e.exports=n.p+"static/media/MockCover.4d59545d.png"},181:function(e,t,n){"use strict";var r=n(40),a=n(17),o=n(0),i=n.n(o),c=n(14),l=n(370),u=n(116),s=n(144),f=n(152),d=n(148),m=n(273),p=n(217),b=n.n(p),g=n(218),v=n.n(g),h=n(145),y=n(7),O=n(157),j=n(171),E=n(165),x=n(158),w=n.n(x),S=n(170);function k(){var e=Object(a.a)(["\n    color: white;\n    &:hover {\n        color: grey;\n    }\n"]);return k=function(){return e},e}function N(){var e=Object(a.a)(["\n    margin-right: 10px;\n    background: none;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:hover {\n        color: ",";\n    }\n"]);return N=function(){return e},e}function P(){var e=Object(a.a)(["\n    height: 35px;\n    width: 100%;\n    position:absolute;\n    bottom:0;\n    display: flex;\n    justify-content: flex-end;\n"]);return P=function(){return e},e}function C(){var e=Object(a.a)(["\n    margin: 10px;\n    margin-bottom: ",";\n"]);return C=function(){return e},e}function T(){var e=Object(a.a)(["\n    overflow: auto;\n"]);return T=function(){return e},e}function F(){var e=Object(a.a)(["\n    max-height: ",";\n    display: flex;\n    flex-direction: column;\n    margin-right: 10px;\n    margin-left: 10px;\n"]);return F=function(){return e},e}function R(){var e=Object(a.a)(["\n    max-width: ","\n"]);return R=function(){return e},e}function I(){var e=Object(a.a)(["\n    max-height: ",";\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    margin: 10px;\n    overflow: auto;\n"]);return I=function(){return e},e}function D(){var e=Object(a.a)(["\n    height: ",";\n    overflow: auto;\n"]);return D=function(){return e},e}function A(){var e=Object(a.a)(["\n    background-color: ",";\n    height: 50px;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n"]);return A=function(){return e},e}function M(){var e=Object(a.a)(["\n    width: ",";\n    height: ",";\n    position: absolute;\n    left: 50% !important;\n    top: 50% !important;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    position: relative;\n"]);return M=function(){return e},e}var z=c.b.div(M(),(function(e){return e.isSmall||e.isShort?"100vw":"500px"}),(function(e){return e.isSmall||e.isShort?"100vh":"500px"})),Q=c.b.div(A(),(function(e){return e.theme.palette.primary.main})),L=c.b.div(D(),(function(e){return e.isSmall||e.isShort?"100%":"450px"})),H=c.b.div(I(),(function(e){return e.isShort?"80%":"350px"})),B=c.b.img(R(),(function(e){return e.isShort?"30%":"50%"})),V=c.b.div(F(),(function(e){return e.isShort?"80%":"350px"})),G=c.b.div(T()),U=c.b.div(C(),(function(e){return e.isSmall||e.isShort?"100px":"35px"})),q=Object(c.b)(u.a)(P()),W=Object(c.b)(h.a)(N(),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[900]})),J=Object(c.b)(b.a)(k()),_=function(e){var t=e.isOpen,n=e.modalData,a=e.setModalOpen,c=Object(y.g)(),l=Object(o.useState)([]),u=Object(r.a)(l,2),p=u[0],b=u[1],g=Object(o.useState)(0),h=Object(r.a)(g,2),x=h[0],k=h[1],N=Object(s.a)("(max-width:450px)"),P=Object(s.a)("(max-height:500px)");return Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType===O.a.book?"books":"movies";w.a.get("/".concat(r,"/tags/").concat(e)).then((function(e){var t=e.data;b(t.nextStoryTags)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),Object(o.useEffect)((function(){if(t){var e=n.id,r=n.mediaType;w.a.get("/reviewRatings/averageRating/".concat(r,"/").concat(e)).then((function(e){var t=e.data;k(t.average)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),i.a.createElement(f.a,{open:t,onClose:function(){return a(!1)}},i.a.createElement(z,{isSmall:N,isShort:P},i.a.createElement(Q,null,i.a.createElement(d.a,{onClick:function(){return a(!1)}},i.a.createElement(J,null))),i.a.createElement(L,{isSmall:N,isShort:P},i.a.createElement(H,{isShort:P},i.a.createElement(B,{src:null===n||void 0===n?void 0:n.image,isShort:P}),i.a.createElement(V,{isShort:P},i.a.createElement(m.a,{variant:"h3",gutterBottom:!0},null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.mediaType)===O.a.movie?"(Movie)":"(Book)"),i.a.createElement(m.a,{variant:"subtitle2"},"Avg members rating: ",!x&&"No rating"),x>0&&i.a.createElement(S.a,{readOnlyRating:x,readonly:!0}),i.a.createElement(G,null,"Genres:",i.a.createElement(E.a,{tags:(null===n||void 0===n?void 0:n.genres)||[],singleQueryType:O.b.genre}),p.length>0&&i.a.createElement(i.a.Fragment,null,"Tags:",i.a.createElement(E.a,{tagObjects:p||[],singleQueryType:O.b.tag}))))),i.a.createElement(U,{isSmall:N,isShort:P},i.a.createElement(j.a,{content:(null===n||void 0===n?void 0:n.blurb)||""}))),i.a.createElement(q,{elevation:3},i.a.createElement(W,{endIcon:i.a.createElement(v.a,null),onClick:function(){return function(){var e=n.id,t=n.mediaType;c.push("/".concat(t,"/").concat(e)),a(!1)}()}},"Go to page"))))};function K(){var e=Object(a.a)(["\n    height: 100%;\n    max-width: 100%;\n    cursor: pointer;\n    &:hover {\n        opacity: 50%;\n    }\n"]);return K=function(){return e},e}function $(){var e=Object(a.a)(["\n    height: 250px;\n    width: 175px;\n    display: flex;\n    justify-content: center;\n    align-items: space-between;\n    flex-direction: column;\n"]);return $=function(){return e},e}var X=Object(c.b)(l.a)($()),Y=c.b.img(K());t.a=function(e){var t=e.cardData.image,n=Object(o.useState)(!1),a=Object(r.a)(n,2),c=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(_,{isOpen:c,setModalOpen:function(){return l(!1)},modalData:e.cardData}),i.a.createElement(X,{elevation:1},i.a.createElement(Y,{src:t,onClick:function(){return l(!0)}})))}},191:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],c=Object.keys(i),l=0;l<c.length;++l){var u=c[l],s=i[u];"object"===typeof s&&null!==s&&-1===n.indexOf(s)&&(t.push({obj:i,prop:u}),n.push(s))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!==typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(a){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"===typeof e?r=Symbol.prototype.toString.call(e):"string"!==typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",i=0;i<r.length;++i){var c=r.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?a+=r.charAt(i):c<128?a+=o[c]:c<2048?a+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?a+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&r.charCodeAt(i)),a+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,o){if(!n)return t;if("object"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var c=t;return a(t)&&!a(n)&&(c=i(t,o)),a(t)&&a(n)?(n.forEach((function(n,a){if(r.call(t,a)){var i=t[a];i&&"object"===typeof i&&n&&"object"===typeof n?t[a]=e(i,n,o):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var i=n[a];return r.call(t,a)?t[a]=e(t[a],i,o):t[a]=i,t}),c)}}},220:function(e,t,n){"use strict";var r=String.prototype.replace,a=/%20/g,o=n(191),i={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=o.assign({default:i.RFC3986,formatters:{RFC1738:function(e){return r.call(e,a,"+")},RFC3986:function(e){return String(e)}}},i)},274:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(62)).default)(a.default.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.default=o},276:function(e,t,n){"use strict";var r=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=(0,r(n(62)).default)(a.default.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=o},277:function(e,t,n){"use strict";var r=n(278),a=n(279),o=n(220);e.exports={formats:o,parse:a,stringify:r}},278:function(e,t,n){"use strict";var r=n(191),a=n(220),o=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,c(t)?t:[t])},s=Date.prototype.toISOString,f=a.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:a.formatters[f],indices:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},m=function e(t,n,a,o,i,l,s,f,m,p,b,g,v){var h,y=t;if("function"===typeof s?y=s(n,y):y instanceof Date?y=p(y):"comma"===a&&c(y)&&(y=r.maybeMap(y,(function(e){return e instanceof Date?p(e):e})).join(",")),null===y){if(o)return l&&!g?l(n,d.encoder,v,"key"):n;y=""}if("string"===typeof(h=y)||"number"===typeof h||"boolean"===typeof h||"symbol"===typeof h||"bigint"===typeof h||r.isBuffer(y))return l?[b(g?n:l(n,d.encoder,v,"key"))+"="+b(l(y,d.encoder,v,"value"))]:[b(n)+"="+b(String(y))];var O,j=[];if("undefined"===typeof y)return j;if(c(s))O=s;else{var E=Object.keys(y);O=f?E.sort(f):E}for(var x=0;x<O.length;++x){var w=O[x],S=y[w];if(!i||null!==S){var k=c(y)?"function"===typeof a?a(n,w):n:n+(m?"."+w:"["+w+"]");u(j,e(S,k,a,o,i,l,s,f,m,p,b,g,v))}}return j};e.exports=function(e,t){var n,r=e,l=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=a.formatters[n],i=d.filter;return("function"===typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"===typeof l.filter?r=(0,l.filter)("",r):c(l.filter)&&(n=l.filter);var s,f=[];if("object"!==typeof r||null===r)return"";s=t&&t.arrayFormat in i?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=i[s];n||(n=Object.keys(r)),l.sort&&n.sort(l.sort);for(var b=0;b<n.length;++b){var g=n[b];l.skipNulls&&null===r[g]||u(f,m(r[g],g,p,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var v=f.join(l.delimiter),h=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),v.length>0?h+v:""}},279:function(e,t,n){"use strict";var r=n(191),a=Object.prototype.hasOwnProperty,o=Array.isArray,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=c?o.slice(0,c.index):o,s=[];if(u){if(!n.plainObjects&&a.call(Object.prototype,u)&&!n.allowPrototypes)return;s.push(u)}for(var f=0;n.depth>0&&null!==(c=i.exec(o))&&f<n.depth;){if(f+=1,!n.plainObjects&&a.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(c[1])}return c&&s.push("["+o.slice(c.index)+"]"),function(e,t,n,r){for(var a=r?t:l(t,n),o=e.length-1;o>=0;--o){var i,c=e[o];if("[]"===c&&n.parseArrays)i=[].concat(a);else{i=n.plainObjects?Object.create(null):{};var u="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(u,10);n.parseArrays||""!==u?!isNaN(s)&&c!==u&&String(s)===u&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[])[s]=a:i[u]=a:i={0:a}}a=i}return a}(s,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?i.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:i.comma,decoder:"function"===typeof e.decoder?e.decoder:i.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var s="string"===typeof e?function(e,t){var n,u={},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=s.split(t.delimiter,f),m=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?p="utf-8":"utf8=%26%2310003%3B"===d[n]&&(p="iso-8859-1"),m=n,n=d.length);for(n=0;n<d.length;++n)if(n!==m){var b,g,v=d[n],h=v.indexOf("]="),y=-1===h?v.indexOf("="):h+1;-1===y?(b=t.decoder(v,i.decoder,p,"key"),g=t.strictNullHandling?null:""):(b=t.decoder(v.slice(0,y),i.decoder,p,"key"),g=r.maybeMap(l(v.slice(y+1),t),(function(e){return t.decoder(e,i.decoder,p,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=c(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),a.call(u,b)?u[b]=r.combine(u[b],g):u[b]=g}return u}(e,n):e,f=n.plainObjects?Object.create(null):{},d=Object.keys(s),m=0;m<d.length;++m){var p=d[m],b=u(p,s[p],n,"string"===typeof e);f=r.merge(f,b,n)}return r.compact(f)}},365:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=(n(3),n(4)),c=n(5),l=n(50),u=Object(l.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=o.forwardRef((function(e,t){var n=e.alt,c=e.children,l=e.classes,s=e.className,f=e.component,d=void 0===f?"div":f,m=e.imgProps,p=e.sizes,b=e.src,g=e.srcSet,v=e.variant,h=void 0===v?"circle":v,y=Object(a.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),O=null,j=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),a=r[0],i=r[1];return o.useEffect((function(){if(t||n){i(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&i("loaded")},r.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,n]),a}({src:b,srcSet:g}),E=b||g,x=E&&"error"!==j;return O=x?o.createElement("img",Object(r.a)({alt:n,src:b,srcSet:g,sizes:p,className:l.img},m)):null!=c?c:E&&n?n[0]:o.createElement(u,{className:l.fallback}),o.createElement(d,Object(r.a)({className:Object(i.a)(l.root,l.system,l[h],s,!x&&l.colorDefault),ref:t},y),O)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},378:function(e,t,n){"use strict";n.r(t);var r=n(86),a=n(0),o=n.n(a),i=n(275),c=n(17),l=n(14),u=n(273),s=n(274),f=n.n(s),d=n(365);function m(){var e=Object(c.a)(["\n  &.MuiTypography-body1 {\n    font-weight: bold;\n  }\n"]);return m=function(){return e},e}function p(){var e=Object(c.a)(["\n  &.MuiAvatar-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return p=function(){return e},e}function b(){var e=Object(c.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 2px #D3D3D3;\n    height: 150px;\n  }\n"]);return b=function(){return e},e}function g(){var e=Object(c.a)(["\n  &.MuiSvgIcon-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(c.a)(["\n  flex: 0 1 auto;\n  min-width: 300px;\n  /* height: 100vh; */\n  /* overflow-x: hidden; */\n  /* overflow-y: auto; */\n  & > * {\n    margin-bottom: 10px;\n  }\n"]);return v=function(){return e},e}var h=l.b.div(v()),y=Object(l.b)(f.a)(g()),O=l.b.div(b()),j=Object(l.b)(d.a)(p()),E=Object(l.b)(u.a)(m()),x=function(e){var t=e.avatar,n=e.about,r=e.email,a=e.booksCount,i=e.moviesCount,c=e.name;return o.a.createElement(h,{id:"userinfo"},o.a.createElement(O,{id:"profile-pic"},o.a.createElement("div",null,t?o.a.createElement(j,{variant:"square"},o.a.createElement("img",{alt:"profile",src:t,width:"100%"})):o.a.createElement(y,{color:"disabled",fontSize:"large"})),o.a.createElement(u.a,{align:"center",color:"primary",variant:"body1"},"(Edit Profile)")),o.a.createElement("div",null,o.a.createElement(u.a,{variant:"body2"},"User Name: ".concat(c)),o.a.createElement(u.a,{variant:"body2"},"Books Read: ".concat(a)),o.a.createElement(u.a,{variant:"body2"},"Movies Watched: ".concat(i))),o.a.createElement("div",null,o.a.createElement(E,null,"About Me/Message User"),o.a.createElement(u.a,{variant:"body2"},n)),o.a.createElement("div",null,o.a.createElement(E,null,"Contact"),o.a.createElement(u.a,{variant:"body2"},r)))},w=n(144),S=n(159),k=n(63),N=n(16),P=n(40),C=n(182),T=n.n(C),F=(n(184),n(181)),R=n(178),I=n.n(R),D=n(276),A=n.n(D),M=n(385);function z(){var e=Object(c.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n"]);return z=function(){return e},e}function Q(){var e=Object(c.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.23);\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  :hover{\n    cursor: pointer;\n  }\n"]);return Q=function(){return e},e}function L(){var e=Object(c.a)(["\n  &.MuiOutlinedInput-root {\n    border-radius: 4px 0 0 4px;\n  }\n"]);return L=function(){return e},e}function H(){var e=Object(c.a)(["\n  &.MuiGrid-container {\n    flex-wrap: nowrap;\n  }\n"]);return H=function(){return e},e}var B=Object(l.b)(i.a)(H()),V=Object(l.b)(M.a)(L()),G=Object(l.b)(i.a)(Q()),U=l.b.div(z()),q=function(){return o.a.createElement("div",null,o.a.createElement(B,{container:!0,spacing:0,alignItems:"stretch"},o.a.createElement(i.a,{item:!0},o.a.createElement(V,{name:"search",type:"search",placeholder:"Search"})),o.a.createElement(G,{item:!0},o.a.createElement(U,null,o.a.createElement(A.a,{fontSize:"large"})))))},W=n(381),J=function(){return o.a.createElement(W.a,{variant:"outlined",native:!0},o.a.createElement("option",{value:1},"Option 1"),o.a.createElement("option",{value:2},"Option 2"))},_=n(157),K=n(73),$=n(158),X=n.n($),Y=n(277),Z=n.n(Y);function ee(){var e=Object(c.a)(["\n  margin-top: 20px;\n"]);return ee=function(){return e},e}var te=Object(l.b)(T.a)(ee()),ne={title:"Mock Title Harry Potter Mock Title Harry Potter",image:I.a,mediaType:_.a.movie,nextStoryTags:[],people:"J.K. Rowling",genres:["fantasy","action","sci-fi","superheroes","tag1","tag2","tag3"],blurb:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",avgRating:3},re=function(){return o.a.createElement(i.a,{spacing:1,container:!0},o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(J,null)),o.a.createElement(i.a,{item:!0,xs:6},o.a.createElement(q,null)))},ae=Object(K.b)()((function(e){var t=e.bookIds,n=e.movieIds,r=e.title,i=e.withSearchSelect,c=e.updateMethod,l=Object(a.useState)({books:[],movies:[]}),s=Object(P.a)(l,2),f=s[0],d=s[1],m=window.location.protocol+"//"+window.location.host,p=Object(a.useCallback)((function(){X.a.get("".concat(m,"/multi/booksAndMovies"),{params:{books:t,movies:n},paramsSerializer:function(e){return Z.a.stringify(e)}}).then((function(e){var t=e.data;c(t),d(t)})).catch((function(e){console.error("Error fetching books and movie information for media cards: ",e)}))}),[t,n]),b=f.books.map((function(e){var t=e.bookId,n=e.avgRating,r=e.nextStoryTags.map((function(e){return e.tagName}));return o.a.createElement(F.a,{key:t,cardData:Object(N.a)(Object(N.a)({},ne),{},{avgRating:n,id:t,mediaType:_.a.book,nextStoryTags:r})})})),g=f.movies.map((function(e){var t=e.movieId,n=e.avgRating,r=e.nextStoryTags.map((function(e){return e.tagName}));return o.a.createElement(F.a,{key:t,cardData:Object(N.a)(Object(N.a)({},ne),{},{avgRating:n,id:t,mediaType:_.a.movie,nextStoryTags:r})})})),v=[].concat(Object(k.a)(b),[g]);return Object(a.useEffect)((function(){((null===t||void 0===t?void 0:t.length)||(null===n||void 0===n?void 0:n.length))&&p()}),[t,n,p]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{variant:"h4"},r),o.a.createElement("div",null,i&&o.a.createElement(re,null)),o.a.createElement(te,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xmd","sm","xs"],responsive:{xl:{breakpoint:{max:3e3,min:1200},items:2.4,partialVisibilityGutter:40},lg:{breakpoint:{max:1200,min:960},items:1.5,partialVisibilityGutter:20},md:{breakpoint:{max:960,min:768},items:2,partialVisibilityGutter:0},xmd:{breakpoint:{max:768,min:480},items:1.5,partialVisibilityGutter:20},sm:{breakpoint:{max:480,min:0},items:.8,partialVisibilityGutter:50}}},v))})),oe=n(165),ie=n(65);function ce(){var e=Object(c.a)(["\n  min-width: 350px;\n  margin: 0 auto;\n"]);return ce=function(){return e},e}function le(){var e=Object(c.a)(["\n  > * {\n    :not(:first-child) {\n      margin-top: 30px;\n    }\n  }\n"]);return le=function(){return e},e}var ue=l.b.div(le()),se=l.b.div(ce()),fe=Object(K.b)(null,(function(e){return{setFavorites:function(t){return e((n=t,{type:ie.a,data:n}));var n},setLater:function(t){return e((n=t,{type:ie.b,data:n}));var n}}}))((function(e){var t=e.favoriteAuthors,n=e.favoriteBooks,r=e.favoriteDirectors,a=e.favoriteGenres,i=e.favoriteMovies,c=e.favoriteNextStoryTags,l=e.readLater,s=e.watchLater,f=e.setFavorites,d=e.setLater;return o.a.createElement(ue,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(se,null,o.a.createElement(u.a,{variant:"h4"},"Favourite Genres"),o.a.createElement(oe.a,{tags:Object(k.a)(a),singleQueryType:_.b.genre}),o.a.createElement(oe.a,{tagObjects:Object(k.a)(c),singleQueryType:_.b.tag})),o.a.createElement(se,null,o.a.createElement(u.a,{variant:"h4"},"Favourite Authors:"),o.a.createElement(oe.a,{tags:t,singleQueryType:_.b.bookPerson})),o.a.createElement(se,null,o.a.createElement(u.a,{variant:"h4"},"Favourite Directors:"),o.a.createElement(oe.a,{tags:r,singleQueryType:_.b.moviePerson})),o.a.createElement(se,null,o.a.createElement(ae,{bookIds:n,bMSource:"favorite",movieIds:i,title:"User's Favourite Books/Movies:",updateMethod:f})),o.a.createElement(se,null,o.a.createElement(ae,{bMSource:"later",title:"User's Read/Watched List",bookIds:l,movieIds:s,withSearchSelect:!0,updateMethod:d}))))})),de=n(85);t.default=Object(K.b)((function(e){return{profile:e.profile}}),(function(e){return{setProfile:function(t){return e(function(e){return{type:de.a,profile:e}}(t))}}}))((function(e){var t=e.profile,n=t.avatar,c=t.booksRead,l=t.email,u=t.message,s=t.moviesWatched,f=t.name,d=Object(r.a)(t,["avatar","booksRead","email","message","moviesWatched","name"]),m=e.setProfile,p=Object(w.a)("(min-width: 960px)"),b=window.location.protocol+"//"+window.location.host;return Object(a.useEffect)((function(){var e=sessionStorage.getItem("NS-session-data"),t=e&&JSON.parse(e).userId;X.a.get("".concat(b,"/users/").concat(t)).then((function(e){m(e.data)})).catch((function(e){console.log("Error fetching profile: ",e)}))}),[]),o.a.createElement(S.a,{maxWidth:p?"lg":"sm"},o.a.createElement(i.a,{container:!0,spacing:5},o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:5},o.a.createElement(x,{about:u,avatar:n,booksCount:c.length,email:l,moviesCount:s.length,name:f})),o.a.createElement(i.a,{item:!0,xs:12,sm:12,md:7},o.a.createElement(fe,d))))}))}}]);
//# sourceMappingURL=12.8cf86730.chunk.js.map