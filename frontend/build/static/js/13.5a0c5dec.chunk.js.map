{"version":3,"sources":["constants/dataTypes.ts","containers/Container/index.tsx","actions/singleSearchPageFilterActions.ts","components/TagButton/index.tsx","components/TagsSection/index.tsx","actions/homePageFilterActions.ts","components/DesktopFilter/index.tsx","../node_modules/@material-ui/icons/Home.js","../node_modules/@material-ui/icons/Movie.js","../node_modules/@material-ui/icons/Book.js","../node_modules/@material-ui/core/esm/BottomNavigation/BottomNavigation.js","../node_modules/@material-ui/core/esm/BottomNavigationAction/BottomNavigationAction.js","components/MobileFilter/index.tsx","components/SearchResultBlock/index.tsx","components/SearchResultsInfiniteScroll/index.tsx","containers/SingleSearchResultPage/index.tsx"],"names":["MediaType","SingleQueryType","StyledContainer","styled","Container","MarginContainer","props","maxWidth","children","changeSingleSearchPageFilter","filterName","type","CHANGE_SINGLE_SEARCH_PAGE_FILTER","StyledTagButton","button","theme","palette","primary","light","secondary","connect","label","tagId","singleQueryType","history","useHistory","encodedSubject","encodeURIComponent","onClick","queryType","bookPerson","BOOKS","moviePerson","MOVIES","tag","genre","searchBar","ALL","changeQueryFilter","push","StyledTagsSection","div","TagsSection","tags","tagObjects","map","index","key","tagObject","tagName","changeHomePageFilter","CHANGE_HOME_PAGE_FILTER","DeskTopFilters","Tabs","state","singleSearchPageFilter","singleSearchPageFilterReducer","isSearchPage","React","useState","storyType","setStoryType","useEffect","smDown","value","onChange","event","newType","aria-label","centered","component","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","createElement","d","BottomNavigation","ref","classes","className","_props$component","Component","_props$showLabels","showLabels","other","_objectWithoutProperties","_extends","clsx","root","child","childIndex","childValue","undefined","selected","showLabel","withStyles","display","justifyContent","height","backgroundColor","background","paper","name","BottomNavigationAction","icon","ButtonBase","iconOnly","focusRipple","wrapper","transition","transitions","create","duration","short","padding","minWidth","color","text","flex","paddingTop","main","alignItems","width","flexDirection","fontFamily","typography","fontSize","pxToRem","opacity","transitionDelay","MobileFilters","Hidden","mdUp","Block","grey","TopBar","StyledImage","img","isSmall","StyledTitle","StyledLink","Link","SearchResultBlock","image","title","blurb","genres","mediaType","mediaId","nextStoryTags","useMediaQuery","goToPage","Grid","container","direction","spacing","item","sm","src","variant","gutterBottom","content","SearchResultsInfiniteScroll","resultsToDisplay","hasMore","doNext","style","overflow","dataLength","length","scrollThreshold","next","loader","textAlign","endMessage","result","id","searchUri","decodeURI","location","search","locationSearch","substr","split","singleQueryTypeUri","queryUri","getQueryTypeAndQuery","query","queryStartIndex","setQueryStartIndex","movieResults","setMovieResults","bookResults","setBookResults","allResults","setAllResults","filterState","setFilterState","hasMoreMovieResults","setHasMoreMovieResults","hasMoreBookResults","setHasMoreBookResults","a","mongoMovies","mongoBooks","axios","get","mongoMovieRes","data","console","log","mongoBookRes","bookData","movieData","maxEndIndex","movieEndIndex","bookEndIndex","i","movieId","movieRes","movieWithNextStoryTags","thisMongoMovieMaybe","filter","m","thisMongoMovie","bookId","bookRes","bookWithNextStoryTags","thisMongoBookMaybe","b","thisMongoBook","movies","books","getMediaForTag","then","res","getFromThirdParty","catch","e","getFromThirdPartyForTagsAndPeople","useMemo"],"mappings":"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","file":"static/js/13.5a0c5dec.chunk.js","sourcesContent":["export enum MediaType {\n    movie = 'movie',\n    book = 'book',\n    start = ''\n}\n\nexport enum SingleQueryType {\n    bookPerson = 'bookPerson',\n    moviePerson = 'moviePerson',\n    genre = 'genre',\n    tag = 'tag',\n    searchBar = 'searchBar'\n}\n\nexport type CardData = {\n    title: string,\n    id: string,\n    mediaType: MediaType,\n    image: string, // the url, etc to the image\n    genres: string[],\n    nextStoryTags: string[],\n    people: string,\n    blurb: string,\n    avgRating: number\n}\n\nexport interface Tag{\n  tagId: string;\n  tagName: string;\n}\n","import React, {ReactNode} from 'react';\nimport Container from '@material-ui/core/Container';\nimport styled from 'styled-components';\n\nconst StyledContainer = styled(Container)`\n    margin-top: 85px;\n    margin-bottom: 85px;\n`;\n\ninterface MarginContainerProps {\n    maxWidth: 'lg'\n        | 'md'\n        | 'sm'\n        | 'xl'\n        | 'xs'\n        | false;\n    children: ReactNode;\n}\n\nconst MarginContainer: React.FC<MarginContainerProps> = (props: MarginContainerProps) => {\n    return (\n        <StyledContainer maxWidth={props.maxWidth}>{props.children}</StyledContainer>\n    );\n};\n\nexport default MarginContainer;\n","import {\n    CHANGE_SINGLE_SEARCH_PAGE_FILTER\n} from '../constants/singleSearchPageFilterConstants';\n\nexport const changeSingleSearchPageFilter = (filterName: string) => {\n    return {\n        type: CHANGE_SINGLE_SEARCH_PAGE_FILTER,\n        filterName: filterName\n    };\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport {useHistory} from 'react-router';\nimport {SingleQueryType} from '../../constants/dataTypes';\nimport {ALL, BOOKS, MOVIES} from '../../constants/homePageFilterConstants';\nimport {connect} from 'react-redux';\nimport {changeSingleSearchPageFilter} from '../../actions/singleSearchPageFilterActions';\n\ninterface TagsButtonProps {\n    label: string;\n    singleQueryType: SingleQueryType;\n    tagId?: string; // needed for if the tag button is being used for nextStoryTags\n}\n\nconst StyledTagButton = styled.button`\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ${({ theme }) => theme.palette.primary.light};\n    &:hover {\n        background-color: ${({ theme }) => theme.palette.secondary.light};\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n`;\n\nconst changeQueryFilter = (props: any, queryType: SingleQueryType) => {\n    switch (queryType) {\n        case SingleQueryType.bookPerson:\n            props.changeSingleSearchPageFilter(BOOKS);\n            break;\n        case SingleQueryType.moviePerson:\n            props.changeSingleSearchPageFilter(MOVIES);\n            break;\n        case SingleQueryType.tag:\n        case SingleQueryType.genre:\n        case SingleQueryType.searchBar:\n        default:\n            props.changeSingleSearchPageFilter(ALL);\n            break;\n    }\n};\n\nconst TagButton: React.FC<TagsButtonProps> = (props: TagsButtonProps) => {\n    const { label, tagId, singleQueryType } = props;\n    const history = useHistory();\n\n    const encodedSubject = encodeURIComponent(tagId || label);\n    const goToSingleQuery = () => {\n        changeQueryFilter(props, singleQueryType);\n        history.push(`/searchResult/param?singleQueryType=${singleQueryType}&query=${encodedSubject}`);\n    };\n\n    return (\n        <>\n            {label &&\n                <StyledTagButton\n                    onClick={goToSingleQuery}\n                >\n                    {label}\n                </StyledTagButton>\n            }\n        </>\n    );\n};\n\nexport default connect(null, {changeSingleSearchPageFilter})(TagButton);\n","import React from 'react';\nimport TagButton from '../TagButton';\nimport styled from 'styled-components';\nimport {SingleQueryType} from '../../constants/dataTypes';\n\ninterface TagsSectionProps {\n    singleQueryType: SingleQueryType;\n    tags?: string[],\n    tagObjects?: Array<{ tagId: string, tagName: string }>\n}\n\nconst StyledTagsSection = styled.div`\n    margin-bottom: 15px;\n`;\n\nconst TagsSection: React.FC<TagsSectionProps> = (props: TagsSectionProps) => {\n    const { singleQueryType, tags, tagObjects } = props;\n    return (\n        <StyledTagsSection>\n            { tags && tags.map((tag, index) => {\n                return (\n                    <TagButton\n                        key={index}\n                        label={tag}\n                        singleQueryType={singleQueryType}\n                    />);\n            }) }\n            { !tags && tagObjects && tagObjects.map((tagObject, index) => {\n                return (\n                    <TagButton\n                        key={index}\n                        label={tagObject.tagName}\n                        singleQueryType={singleQueryType}\n                        tagId={tagObject.tagId}\n                    />);\n            }) }\n        </StyledTagsSection>\n    );\n};\n\nexport default TagsSection;\n","import {\n    CHANGE_HOME_PAGE_FILTER\n} from '../constants/homePageFilterConstants';\n\nexport const changeHomePageFilter = (filterName: string) => {\n    return {\n        type: CHANGE_HOME_PAGE_FILTER,\n        filterName: filterName\n    };\n};\n","import React, {useEffect} from 'react';\nimport styled from 'styled-components';\nimport {\n    Tab,\n    Tabs,\n    Hidden\n} from '@material-ui/core';\nimport {connect} from 'react-redux';\nimport { changeHomePageFilter } from '../../actions/homePageFilterActions';\nimport {\n    ALL,\n    MOVIES,\n    BOOKS\n} from '../../constants/homePageFilterConstants';\nimport {changeSingleSearchPageFilter} from '../../actions/singleSearchPageFilterActions';\n\nconst DeskTopFilters = styled(Tabs)`\n`;\n\nconst DesktopFilter = (props: any) => {\n    const { singleSearchPageFilter, isSearchPage } = props;\n    const [storyType, setStoryType] = React.useState<string>('all');\n    const handleChange = (event: React.ChangeEvent<{}>, newType: string) => {\n        setStoryType(newType);\n    };\n\n    useEffect(() => {\n        if (isSearchPage && singleSearchPageFilter) {\n            setStoryType(singleSearchPageFilter);\n        }\n    }, [singleSearchPageFilter]);\n\n    useEffect(() => {\n        switch (storyType) {\n            case 'all':\n                isSearchPage ? props.changeSingleSearchPageFilter(ALL) : props.changeHomePageFilter(ALL);\n                break;\n            case 'movies':\n                isSearchPage ? props.changeSingleSearchPageFilter(MOVIES) : props.changeHomePageFilter(MOVIES);\n                break;\n            case 'books':\n                isSearchPage ? props.changeSingleSearchPageFilter(BOOKS) : props.changeHomePageFilter(BOOKS);\n                break;\n            default:\n                break;\n        }\n    }, [storyType]);\n\n    return (\n        <Hidden smDown>\n            <DeskTopFilters\n                value={storyType}\n                onChange={handleChange}\n                aria-label='home-page-filter'\n                centered\n            >\n                <Tab\n                    component='a'\n                    label='All'\n                    value={'all'}\n                />\n                <Tab\n                    component='a'\n                    label='Movies'\n                    value={'movies'}\n                />\n                <Tab\n                    component='a'\n                    label='Books'\n                    value={'books'}\n                />\n            </DeskTopFilters>\n        </Hidden>\n    );\n};\n\nconst mapStateToProps = (state: any) => {\n    return {\n        singleSearchPageFilter: state.singleSearchPageFilterReducer\n    };\n};\n\nexport default connect(mapStateToProps, { changeHomePageFilter, changeSingleSearchPageFilter })(DesktopFilter);\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n}), 'Home');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z\"\n}), 'Movie');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z\"\n}), 'Book');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      justifyContent: 'center',\n      height: 56,\n      backgroundColor: theme.palette.background.paper\n    }\n  };\n};\nvar BottomNavigation = React.forwardRef(function BottomNavigation(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      onChange = props.onChange,\n      _props$showLabels = props.showLabels,\n      showLabels = _props$showLabels === void 0 ? false : _props$showLabels,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"onChange\", \"showLabels\", \"value\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), React.Children.map(children, function (child, childIndex) {\n    if (!React.isValidElement(child)) {\n      return null;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"Material-UI: The BottomNavigation component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    return React.cloneElement(child, {\n      selected: childValue === value,\n      showLabel: child.props.showLabel !== undefined ? child.props.showLabel : showLabels,\n      value: childValue,\n      onChange: onChange\n    });\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? BottomNavigation.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {any} value We default to the index of the child.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, all `BottomNavigationAction`s will show their labels.\n   * By default, only the selected `BottomNavigationAction` will show its label.\n   */\n  showLabels: PropTypes.bool,\n\n  /**\n   * The value of the currently selected `BottomNavigationAction`.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBottomNavigation'\n})(BottomNavigation);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      transition: theme.transitions.create(['color', 'padding-top'], {\n        duration: theme.transitions.duration.short\n      }),\n      padding: '6px 12px 8px',\n      minWidth: 80,\n      maxWidth: 168,\n      color: theme.palette.text.secondary,\n      flex: '1',\n      '&$iconOnly': {\n        paddingTop: 16\n      },\n      '&$selected': {\n        paddingTop: 6,\n        color: theme.palette.primary.main\n      }\n    },\n\n    /* Pseudo-class applied to the root element if selected. */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `showLabel={false}` and not selected. */\n    iconOnly: {},\n\n    /* Styles applied to the span element that wraps the icon and label. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the label's span element. */\n    label: {\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(12),\n      opacity: 1,\n      transition: 'font-size 0.2s, opacity 0.2s',\n      transitionDelay: '0.1s',\n      '&$iconOnly': {\n        opacity: 0,\n        transitionDelay: '0s'\n      },\n      '&$selected': {\n        fontSize: theme.typography.pxToRem(14)\n      }\n    }\n  };\n};\nvar BottomNavigationAction = React.forwardRef(function BottomNavigationAction(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      icon = props.icon,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      selected = props.selected,\n      showLabel = props.showLabel,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"icon\", \"label\", \"onChange\", \"onClick\", \"selected\", \"showLabel\", \"value\"]);\n\n  var handleChange = function handleChange(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    ref: ref,\n    className: clsx(classes.root, className, selected ? classes.selected : !showLabel && classes.iconOnly),\n    focusRipple: true,\n    onClick: handleChange\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.label, selected ? classes.selected : !showLabel && classes.iconOnly)\n  }, label)));\n});\nprocess.env.NODE_ENV !== \"production\" ? BottomNavigationAction.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * If `true`, the `BottomNavigationAction` will show its label.\n   * By default, only the selected `BottomNavigationAction`\n   * inside `BottomNavigation` will show its label.\n   */\n  showLabel: PropTypes.bool,\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBottomNavigationAction'\n})(BottomNavigationAction);","import React, {useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport {\n    Hidden,\n    BottomNavigation,\n    BottomNavigationAction\n} from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport BookIcon from '@material-ui/icons/Book';\nimport {connect} from 'react-redux';\nimport { changeHomePageFilter } from '../../actions/homePageFilterActions';\nimport { changeSingleSearchPageFilter } from '../../actions/singleSearchPageFilterActions';\nimport {\n    ALL,\n    MOVIES,\n    BOOKS\n} from '../../constants/homePageFilterConstants';\n\nconst MobileFilters = styled(BottomNavigation)`\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n`;\n\nconst MobileFilter = (props: any) => {\n    const { singleSearchPageFilter, isSearchPage } = props;\n    const [storyType, setStoryType] = useState<string>(ALL);\n    const handleChange = (event: React.ChangeEvent<{}>, newType: string) => {\n        setStoryType(newType);\n    };\n\n    useEffect(() => {\n        if (isSearchPage && singleSearchPageFilter) {\n            setStoryType(singleSearchPageFilter);\n        }\n    }, [singleSearchPageFilter]);\n\n    useEffect(() => {\n        switch (storyType) {\n            case 'all':\n                isSearchPage ? props.changeSingleSearchPageFilter(ALL) : props.changeHomePageFilter(ALL);\n                break;\n            case 'movies':\n                isSearchPage ? props.changeSingleSearchPageFilter(MOVIES) : props.changeHomePageFilter(MOVIES);\n                break;\n            case 'books':\n                isSearchPage ? props.changeSingleSearchPageFilter(BOOKS) : props.changeHomePageFilter(BOOKS);\n                break;\n            default:\n                break;\n        }\n    }, [storyType]);\n\n    return (\n        <Hidden mdUp>\n            <MobileFilters\n                value={storyType}\n                onChange={handleChange}\n                showLabels\n                aria-label='home-page-filter'\n            >\n                <BottomNavigationAction\n                    label='All'\n                    icon={<HomeIcon />}\n                    value={'all'}\n                />\n                <BottomNavigationAction\n                    label='Movies'\n                    icon={<MovieIcon />}\n                    value={'movies'}\n                />\n                <BottomNavigationAction\n                    label='Books'\n                    icon={<BookIcon />}\n                    value={'books'}\n                />\n            </MobileFilters>\n        </Hidden>\n    );\n};\n\nconst mapStateToProps = (state: any) => {\n    return {\n        singleSearchPageFilter: state.singleSearchPageFilterReducer\n    };\n};\n\nexport default connect(mapStateToProps, { changeHomePageFilter, changeSingleSearchPageFilter })(MobileFilter);\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Grid, Link, useMediaQuery} from '@material-ui/core';\nimport {MediaType, SingleQueryType} from '../../constants/dataTypes';\nimport TagsSection from '../TagsSection';\nimport {useHistory} from 'react-router';\nimport Interweave from 'interweave';\n\ninterface SearchResultBlockProps {\n    image: string;\n    title: string;\n    blurb: string;\n    genres: Array<string>;\n    mediaType: MediaType;\n    mediaId: string;\n    nextStoryTags?: Array<any>; // optional\n}\n\nconst Block = styled.div`\n    border-top: ${({ theme }) => `2px solid ${theme.palette.grey[400]}`};\n    border-bottom: ${({ theme }) => `2px solid ${theme.palette.grey[400]}`};\n    min-height: 50px;\n    padding: 5px;\n    margin-bottom: 2px;\n`;\n\nconst TopBar = styled.div`\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst StyledImage = styled.img<{isSmall: boolean}>`\n    max-width: ${(props) => props.isSmall ? '150px' : '100%'};\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\nconst StyledTitle = styled.div`\n    margin-bottom: 5px;\n`;\n\nconst StyledLink = styled(Link)`\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\nconst SearchResultBlock: React.FC<SearchResultBlockProps> = (props: SearchResultBlockProps) => {\n    const { image, title, blurb, genres, mediaType, mediaId, nextStoryTags } = props;\n    const history = useHistory();\n    const isSmall = useMediaQuery('(max-width:450px)');\n\n    const goToPage = () => {\n        history.push(`/${mediaType}/${mediaId}`);\n    };\n\n    return (\n        <Block>\n            <TopBar>\n                <Grid container direction={'row'}  spacing={5}>\n                    <Grid item sm={3}>\n                        <StyledImage src={image} onClick={goToPage} isSmall={isSmall}/>\n                    </Grid>\n                    <Grid item sm={6}>\n                        <StyledTitle>\n                            <StyledLink variant={'h5'} onClick={goToPage} color={'textPrimary'} gutterBottom>\n                                <strong>\n                                    {title}\n                                </strong>\n                            </StyledLink>\n                        </StyledTitle>\n                        <Interweave content={blurb} />\n                    </Grid>\n                    <Grid item sm={3}>\n                        Genres:\n                        <TagsSection tags={genres} singleQueryType={SingleQueryType.genre}/>\n                        {nextStoryTags &&\n                            <>\n                                Tags:\n                                <TagsSection tagObjects={nextStoryTags} singleQueryType={SingleQueryType.tag}/>\n                            </>\n                        }\n                    </Grid>\n                </Grid>\n            </TopBar>\n        </Block>\n    );\n};\n\nexport default SearchResultBlock;\n","import React from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport SearchResultBlock from '../SearchResultBlock';\n\n\ninterface SearchResultsInfiniteScrollProps {\n    resultsToDisplay: Array<any>;\n    hasMore: boolean;\n    doNext: any;\n}\n\nconst SearchResultsInfiniteScroll = (props: SearchResultsInfiniteScrollProps) => {\n    const { resultsToDisplay, hasMore, doNext } = props;\n\n    return (\n        <InfiniteScroll\n            style={{overflow: 'hidden'}}\n            dataLength={resultsToDisplay.length}\n            scrollThreshold={1}\n            next={doNext}\n            hasMore={hasMore}\n            loader={<h4 style={{textAlign: 'center'}}>Loading more results...</h4>}\n            endMessage={\n                <p style={{textAlign: 'center'}}>\n                    <b>No more results</b>\n                </p>\n            }>\n            {resultsToDisplay.map((result, index) =>\n                <SearchResultBlock\n                    key={index}\n                    image={result.image}\n                    title={result.title}\n                    blurb={result.blurb}\n                    genres={result.genres}\n                    nextStoryTags={result.nextStoryTags}\n                    mediaType={result.mediaType}\n                    mediaId={result.id}\n                />)\n            }\n        </InfiniteScroll>\n    );\n};\n\nexport default SearchResultsInfiniteScroll;\n","import React, {useEffect, useMemo, useState} from 'react';\nimport Container from '../Container';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\nimport {SingleQueryType} from '../../constants/dataTypes';\nimport SearchResultsInfiniteScroll from '../../components/SearchResultsInfiniteScroll';\nimport HomePageDesktopFilter from '../../components/DesktopFilter';\nimport HomePageMobileFilter from '../../components/MobileFilter';\nimport {connect} from 'react-redux';\nimport {\n    ALL,\n    MOVIES,\n    BOOKS\n} from '../../constants/homePageFilterConstants';\nimport {changeSingleSearchPageFilter} from '../../actions/singleSearchPageFilterActions';\n\nconst getQueryTypeAndQuery = (locationSearch: string) => {\n    const trimmedUri = locationSearch.substr(1);\n    const [singleQueryTypeUri, queryUri] = trimmedUri.split('&');\n    const queryType = singleQueryTypeUri.split('=')[1];\n    const query = queryUri.split('=')[1];\n    return [queryType, query];\n};\n\nconst SingleSearchResultPage: React.FC = (props: any) => {\n    const searchUri = decodeURI(props.location.search);\n    const {singleSearchPageFilter} = props;\n    const [queryType, query] = getQueryTypeAndQuery(searchUri);\n    const increaseIndexBy = 5;\n\n    const [queryStartIndex, setQueryStartIndex] = useState(0);\n\n    const [movieResults, setMovieResults] = useState<Array<any>>([]);\n    const [bookResults, setBookResults] = useState<Array<any>>([]);\n\n    const [allResults, setAllResults] = useState<Array<any>>([]);\n    const [filterState, setFilterState] = useState<'all' | 'books' | 'movies'>(singleSearchPageFilter);\n\n    const [hasMoreMovieResults, setHasMoreMovieResults] = useState<boolean>(true);\n    const [hasMoreBookResults, setHasMoreBookResults] = useState<boolean>(true);\n\n    useEffect(() => {\n        setFilterState(singleSearchPageFilter);\n    }, [singleSearchPageFilter]);\n\n    async function getMediaForTag() {\n        let mongoMovies = [];\n        let mongoBooks = [];\n        try {\n            const mongoMovieRes = await axios.get(`/movies/withTag/${query}`);\n            mongoMovies = mongoMovieRes.data;\n        } catch (e) {\n            console.log('error fetching movies from mongo for tag', e);\n        }\n        try {\n            const mongoBookRes = await axios.get(`/books/withTag/${query}`);\n            mongoBooks = mongoBookRes.data;\n        } catch (e) {\n            console.log('error fetching books from mongo for tag', e);\n        }\n        return [mongoMovies, mongoBooks];\n    }\n\n    async function getFromThirdParty(mongoMovies: any[], mongoBooks: any[]) {\n        const bookData: any[] = [];\n        const movieData: any[] = [];\n        const maxEndIndex = queryStartIndex + increaseIndexBy;\n        const movieEndIndex = mongoMovies.length >= maxEndIndex ? maxEndIndex : mongoMovies.length;\n        const bookEndIndex = mongoBooks.length >= maxEndIndex ? maxEndIndex : mongoBooks.length;\n        for(let i = queryStartIndex; i < movieEndIndex; i++){\n            const movieId = mongoMovies[i].movieId;\n            try {\n                const movieRes = await axios.get(`/thirdPartyMovieApi/tmdbMovies/searchOneById/${movieId}`);\n                let movieWithNextStoryTags = movieRes.data;\n                const thisMongoMovieMaybe = mongoMovies.filter((m) => m.movieId === movieId);\n                const thisMongoMovie = thisMongoMovieMaybe.length > 0 && thisMongoMovieMaybe[0];\n                if (thisMongoMovie) {\n                    movieWithNextStoryTags.nextStoryTags = thisMongoMovie.nextStoryTags;\n                } else {\n                    movieWithNextStoryTags.nextStoryTags = [];\n                }\n                movieData.push(movieWithNextStoryTags);\n                setAllResults((allResults) => [...allResults, movieWithNextStoryTags]);\n                setMovieResults((movieResults) => [...movieResults, movieWithNextStoryTags]);\n            } catch (e) {\n                console.log(e);\n            }\n        }\n        for(let i = queryStartIndex; i < bookEndIndex; i++){\n            const bookId = mongoBooks[i].bookId;\n            try {\n                const bookRes = await axios.get(`/thirdPartyBookApi/googleBooks/searchOneById/${bookId}`);\n                let bookWithNextStoryTags = bookRes.data;\n                const thisMongoBookMaybe = mongoBooks.filter((b) => b.bookId === bookId);\n                const thisMongoBook = thisMongoBookMaybe.length > 0 && thisMongoBookMaybe[0];\n                if (thisMongoBook) {\n                    bookWithNextStoryTags.nextStoryTags = thisMongoBook.nextStoryTags;\n                } else {\n                    bookWithNextStoryTags.nextStoryTags = [];\n                }\n                bookData.push(bookWithNextStoryTags);\n                setAllResults((allResults) => [...allResults, bookWithNextStoryTags]);\n                setBookResults((bookResults) => [...bookResults, bookWithNextStoryTags]);\n            } catch (e) {\n                console.log(e);\n            }\n        }\n        if (movieData.length === 0) {\n            setHasMoreMovieResults(false);\n        }\n        if (bookData.length === 0) {\n            setHasMoreBookResults(false);\n        }\n        return [movieData, bookData];\n    }\n\n    async function getFromThirdPartyForTagsAndPeople() {\n        let movies: any[] = [];\n        let books: any[] = [];\n        try {\n            const movieRes = await axios.get(`/thirdPartyMovieApi/tmdbMovies/singleQuery/${queryType}/${query}/${queryStartIndex}/${increaseIndexBy}`);\n            movies = movieRes.data;\n            if (movies.length === 0) {\n                setHasMoreMovieResults(false);\n            } else {\n                setMovieResults((movieResults) => [...movieResults, ...movies]);\n                setAllResults((allResults) => [...allResults, ...movies]);\n            }\n        } catch (e) {\n            console.log(e);\n        }\n        try {\n            const bookRes = await axios.get(`/thirdPartyBookApi/googleBooks/singleQuery/${queryType}/${query}/${queryStartIndex}/${increaseIndexBy}`);\n            books = bookRes.data;\n            if (books.length === 0) {\n                setHasMoreBookResults(false);\n            } else {\n                setBookResults((bookResults) => [...bookResults, ...books]);\n                setAllResults((allResults) => [...allResults, ...books]);\n            }\n        } catch (e) {\n            console.log(e);\n        }\n        return [movies, books];\n    }\n\n    useEffect(() => {\n        switch (queryType) {\n            case SingleQueryType.tag:\n                getMediaForTag().then((res) => {\n                    const [mongoMovies, mongoBooks] = res;\n                    console.log('mongo movies and books:', res);\n                    getFromThirdParty(mongoMovies, mongoBooks).then((res) => {\n                        const [movieData, bookData] = res;\n                    }).catch((e) => console.log(e));\n                }).catch((e) => console.log(e));\n                break;\n            case SingleQueryType.searchBar:\n            case SingleQueryType.genre:\n            case SingleQueryType.moviePerson:\n            case SingleQueryType.bookPerson:\n                getFromThirdPartyForTagsAndPeople().then((res) => {\n                    const [movies, books] = res;\n                    console.log([movies, books]);\n                }).catch((e) => console.log(e));\n                break;\n            default:\n                break;\n        }\n    }, [queryType, query, queryStartIndex]);\n\n    const resultsToDisplay = useMemo(() => {\n        switch(filterState) {\n            case MOVIES:\n                return movieResults;\n            case BOOKS:\n                return bookResults;\n            case ALL:\n            default:\n                return allResults;\n        }\n    }, [filterState, movieResults, bookResults, allResults]);\n\n    const doNext = () => {\n        setQueryStartIndex(queryStartIndex + increaseIndexBy);\n    };\n\n    const hasMore = useMemo(() => {\n        switch(filterState) {\n            case MOVIES:\n                return hasMoreMovieResults;\n            case BOOKS:\n                return hasMoreBookResults;\n            case ALL:\n            default:\n                return hasMoreMovieResults || hasMoreBookResults;\n        }\n    }, [filterState, hasMoreBookResults, hasMoreMovieResults]);\n\n    return (\n        <Container maxWidth='md'>\n            <Typography variant='h1'>Search Results</Typography>\n            <br/>\n            <HomePageDesktopFilter isSearchPage={true} />\n            <br/>\n            <SearchResultsInfiniteScroll\n                resultsToDisplay={resultsToDisplay}\n                hasMore={hasMore}\n                doNext={doNext}\n            />\n            <br/>\n            <HomePageMobileFilter isSearchPage={true} />\n        </Container>\n    );\n};\n\nconst mapStateToProps = (state: any) => {\n    return {\n        singleSearchPageFilter: state.singleSearchPageFilterReducer\n    };\n};\n\nexport default connect(mapStateToProps, { changeSingleSearchPageFilter })(SingleSearchResultPage);\n"],"sourceRoot":""}