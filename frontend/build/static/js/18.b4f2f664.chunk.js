(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[18],{164:function(e,a,t){"use strict";var n=t(24),r=t(0),i=t.n(r),o=t(251),l=t(19);function c(){var e=Object(n.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return c=function(){return e},e}var s=Object(l.b)(o.a)(c());a.a=function(e){return i.a.createElement(s,{maxWidth:e.maxWidth},e.children)}},201:function(e,a,t){},397:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=(t(228),t(201),t(40)),o=t(372),l=t(151),c=t(385),s=t(394),m=t(227),u=t(281),d=t(238),p=t(230),g=t.n(p),f=t(280),b=t(384),h=t(251),v=t(162),E=t.n(v),x=t(8),w=t(229);function j(){return r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(m.a,{color:"inherit",href:"https://material-ui.com/"},"NextStory")," ",(new Date).getFullYear(),".")}var y=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function S(){var e=y(),a=Object(n.useState)(!1),t=Object(i.a)(a,2),p=t[0],b=t[1],v=Object(n.useState)(""),S=Object(i.a)(v,2),O=S[0],N=S[1],C=Object(n.useState)(""),W=Object(i.a)(C,2),P=W[0],k=W[1],I=Object(n.useState)(""),q=Object(i.a)(I,2),D=q[0],T=q[1],A=Object(n.useState)(""),F=Object(i.a)(A,2),G=F[0],J=F[1],L=Object(n.useState)(""),U=Object(i.a)(L,2),_=U[0],R=U[1],V=Object(x.g)(),Y=window.location.protocol+"//"+window.location.host,z=function(e,a){E.a.post(Y+"/users/signUp",e).then((function(e){var t=e.data.userId,n=e.data.name,r=new Date;r.setSeconds(r.getSeconds()+3599);var i={expiry:r,username:n,userId:t,isGoogleLogin:a};sessionStorage.setItem("NS-session-data",JSON.stringify(i)),V.push("/")})).catch((function(e){b(!0);var a=e.response.data.message;N(a)}))};return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(c.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(o.a,{className:e.avatar},r.a.createElement(g.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return e.preventDefault(),P&&D&&G&&_?G!==_?(b(!0),void N("Passwords do not match")):function(e){return/\S+@\S+\.\S+/.test(e)}(D)?(b(!1),void z({userName:P,email:D,textPass:G},!1)):(b(!0),void N("Invalid email")):(b(!0),void N("All fields must be filled in"))}},r.a.createElement(u.a,{container:!0,spacing:2},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(s.a,{autoComplete:"name",name:"userName",variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",onChange:function(e){k(e.target.value)},autoFocus:!0})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(s.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){T(e.target.value),b(!1),N("")}})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(s.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){J(e.target.value)}})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(s.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){R(e.target.value)}})),p&&r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",{style:{color:"red"}},O||"There was an error signing up"))),r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement("span",{style:{marginRight:"5px"}},"Or sign up with Google"),r.a.createElement(w.GoogleLogin,{clientId:"279438615331-cvlr0tk0j35i4s9df4m51o9sb5uj8k3s.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:function(e){b(!1);var a=e.profileObj.name,t=e.profileObj.email;t&&z({userName:a,email:t},!0)},onFailure:function(e){b(!0)},cookiePolicy:"single_host_origin"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(u.a,{container:!0,justify:"flex-end"},r.a.createElement(u.a,{item:!0},r.a.createElement(m.a,{href:"/login",variant:"body2",color:"secondary"},"Already have an account? Login"))))),r.a.createElement(d.a,{mt:5},r.a.createElement(j,null)))}var O=t(164);a.default=function(){return r.a.createElement(O.a,{maxWidth:"md"},r.a.createElement(S,null))}}}]);
//# sourceMappingURL=18.b4f2f664.chunk.js.map