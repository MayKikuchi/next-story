(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[13],{158:function(e,t,n){"use strict";var a=n(23),r=n(0),c=n.n(r),o=n(141),i=n(18);function u(){var e=Object(a.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return u=function(){return e},e}var l=Object(i.b)(o.a)(u());t.a=function(e){return c.a.createElement(l,{maxWidth:e.maxWidth},e.children)}},162:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.movie="movie",e.book="book",e.start=""}(a||(a={})),function(e){e.person="person",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(r||(r={}))},167:function(e,t,n){"use strict";var a=n(23),r=n(0),c=n.n(r),o=n(18),i=n(9);function u(){var e=Object(a.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return u=function(){return e},e}var l=o.b.button(u(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),s=function(e){var t=e.label,n=e.singleQueryType,a=Object(i.g)();return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(l,{onClick:function(){a.push("/searchResult/param?singleQueryType=".concat(n,"&query=").concat(t))}},t))};function b(){var e=Object(a.a)(["\n    margin-bottom: 15px;\n"]);return b=function(){return e},e}var m=o.b.div(b());t.a=function(e){var t=e.singleQueryType,n=e.tags,a=e.tagObjects;return c.a.createElement(m,null,n&&n.map((function(e,n){return c.a.createElement(s,{key:n,label:e,singleQueryType:t})})),!n&&a&&a.map((function(e,n){return c.a.createElement(s,{key:n,label:e.tagName,singleQueryType:t})})))}},362:function(e,t,n){"use strict";n.r(t);var a=n(62),r=n(36),c=n(0),o=n.n(c),i=n(158),u=n(143),l=n(159),s=n.n(l),b=n(162),m=n(177),g=n(23),p=n(18),d=n(258),f=n(145),h=n(253),v=n(167),j=n(9);function O(){var e=Object(g.a)(["\n    &:hover {\n        cursor: pointer;\n    }\n"]);return O=function(){return e},e}function y(){var e=Object(g.a)(["\n    margin-bottom: 5px;\n"]);return y=function(){return e},e}function x(){var e=Object(g.a)(["\n    max-width: ",";\n    &:hover {\n        cursor: pointer;\n    }\n"]);return x=function(){return e},e}function E(){var e=Object(g.a)(["\n    display: flex;\n    justify-content: space-between;\n"]);return E=function(){return e},e}function k(){var e=Object(g.a)(["\n    border-top: ",";\n    border-bottom: ",";\n    min-height: 50px;\n    padding: 5px;\n    margin-bottom: 2px;\n"]);return k=function(){return e},e}var w=p.b.div(k(),(function(e){var t=e.theme;return"2px solid ".concat(t.palette.grey[400])}),(function(e){var t=e.theme;return"2px solid ".concat(t.palette.grey[400])})),S=p.b.div(E()),T=p.b.img(x(),(function(e){return e.isSmall?"150px":"100%"})),Q=p.b.div(y()),M=Object(p.b)(d.a)(O()),B=function(e){var t=e.image,n=e.title,a=e.blurb,r=e.genres,c=e.mediaType,i=e.mediaId,u=Object(j.g)(),l=Object(f.a)("(max-width:450px)"),s=function(){u.push("/".concat(c,"/").concat(i))};return o.a.createElement(w,null,o.a.createElement(S,null,o.a.createElement(h.a,{container:!0,direction:"row",spacing:5},o.a.createElement(h.a,{item:!0,sm:3},o.a.createElement(T,{src:t,onClick:s,isSmall:l})),o.a.createElement(h.a,{item:!0,sm:6},o.a.createElement(Q,null,o.a.createElement(M,{variant:"h5",onClick:s,color:"textPrimary",gutterBottom:!0},o.a.createElement("strong",null,n))),a),o.a.createElement(h.a,{item:!0,sm:3},o.a.createElement(v.a,{tags:r,singleQueryType:b.b.genre})))))},A=function(e){var t=e.resultsToDisplay,n=e.hasMore,a=e.doNext;return o.a.createElement(m.a,{style:{overflow:"hidden"},dataLength:t.length,scrollThreshold:1,next:a,hasMore:n,loader:o.a.createElement("h4",{style:{textAlign:"center"}},"Loading more reviews..."),endMessage:o.a.createElement("p",{style:{textAlign:"center"}},o.a.createElement("b",null,"No more reviews"))},t.map((function(e,t){return o.a.createElement(B,{key:t,image:e.image,title:e.title,blurb:e.blurb,genres:e.genres,mediaType:e.mediaType,mediaId:e.id})})))};t.default=function(e){var t=function(e){var t=e.substr(1).split("&"),n=Object(r.a)(t,2),a=n[0],c=n[1];return[a.split("=")[1],c.split("=")[1]]}(decodeURI(e.location.search)),n=Object(r.a)(t,2),l=n[0],m=n[1],g=Object(c.useState)(0),p=Object(r.a)(g,2),d=p[0],f=p[1],h=Object(c.useState)(0),v=Object(r.a)(h,2),j=v[0],O=v[1],y=Object(c.useState)([]),x=Object(r.a)(y,2),E=(x[0],x[1],Object(c.useState)([])),k=Object(r.a)(E,2),w=(k[0],k[1],Object(c.useState)([])),S=Object(r.a)(w,2),T=S[0],Q=S[1],M=Object(c.useState)([]),B=Object(r.a)(M,2),N=B[0],C=B[1],I=Object(c.useState)([]),P=Object(r.a)(I,2),R=P[0],W=P[1],D=Object(c.useState)("all"),J=Object(r.a)(D,2),L=J[0],q=(J[1],Object(c.useState)(!0)),z=Object(r.a)(q,2),F=z[0],U=z[1],G=Object(c.useState)(!0),H=Object(r.a)(G,2),K=H[0],V=H[1];Object(c.useEffect)((function(){switch(l){case b.b.tag:console.log("search tag first");break;case b.b.searchBar:case b.b.genre:case b.b.person:console.log("search third party person"),s.a.get("/thirdPartyMovieApi/tmdbMovies/singleQuery/".concat(l,"/").concat(m,"/").concat(d,"/").concat(5)).then((function(e){var t=e.data;console.log(t),0===t.length?U(!1):Q(t),s.a.get("/thirdPartyBookApi/googleBooks/singleQuery/".concat(l,"/").concat(m,"/").concat(d,"/").concat(5)).then((function(e){var n=e.data;console.log(n),0===n.length?V(!1):(C(n),W([].concat(Object(a.a)(R),Object(a.a)(t),Object(a.a)(n))))})).catch((function(e){console.log("Error getting third party books",e)}))})).catch((function(e){console.log("Error getting third party movies",e)}))}}),[l,m,j]);var X=Object(c.useMemo)((function(){switch(L){case"movies":return T;case"books":return N;case"all":default:return R}}),[L,T,N,R]);return o.a.createElement(i.a,{maxWidth:"md"},o.a.createElement(u.a,{variant:"h1"},"Search Results"),o.a.createElement("br",null),o.a.createElement(A,{resultsToDisplay:X,hasMore:F||K,doNext:function(){switch(L){case"movies":O(j+5);break;case"books":f(d+5);break;case"all":f(d+5),O(j+5);break;default:return R}}}))}}}]);
//# sourceMappingURL=13.e1ca49e5.chunk.js.map