(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[11],{162:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.movie="movie",e.book="book",e.start=""}(a||(a={})),function(e){e.bookPerson="bookPerson",e.moviePerson="moviePerson",e.genre="genre",e.tag="tag",e.searchBar="searchBar"}(r||(r={}))},164:function(e,t,n){"use strict";var a=n(17),r=n(0),i=n.n(r),o=n(249),c=n(15);function l(){var e=Object(a.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return l=function(){return e},e}var u=Object(c.b)(o.a)(l());t.a=function(e){return i.a.createElement(u,{maxWidth:e.maxWidth},e.children)}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(77),r=function(e){return{type:a.a,filterName:e}}},170:function(e,t,n){"use strict";var a=n(17),r=n(0),i=n.n(r),o=n(15),c=n(8),l=n(162),u=n(41),s=n(75),d=n(166);function m(){var e=Object(a.a)(["\n    border-radius: 7px;\n    color: white;\n    outline: none;\n    border: none;\n    margin: 5px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    font-size: 16px;\n    padding: 3px 5px 3px 5px;\n"]);return m=function(){return e},e}var p=o.b.button(m(),(function(e){return e.theme.palette.primary.light}),(function(e){return e.theme.palette.secondary.light})),f=Object(s.b)(null,{changeSingleSearchPageFilter:d.a})((function(e){var t=e.label,n=e.tagId,a=e.singleQueryType,r=Object(c.g)(),o=encodeURIComponent(n||t);return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(p,{onClick:function(){!function(e,t){switch(t){case l.b.bookPerson:e.changeSingleSearchPageFilter(u.b);break;case l.b.moviePerson:e.changeSingleSearchPageFilter(u.d);break;case l.b.tag:case l.b.genre:case l.b.searchBar:default:e.changeSingleSearchPageFilter(u.a)}}(e,a),r.push("/searchResult/param?singleQueryType=".concat(a,"&query=").concat(o))}},t))}));function b(){var e=Object(a.a)(["\n    margin-bottom: 15px;\n"]);return b=function(){return e},e}var v=o.b.div(b());t.a=function(e){var t=e.singleQueryType,n=e.tags,a=e.tagObjects;return i.a.createElement(v,null,n&&n.map((function(e,n){return i.a.createElement(f,{key:n,label:e,singleQueryType:t})})),!n&&a&&a.map((function(e,n){return i.a.createElement(f,{key:n,label:e.tagName,singleQueryType:t,tagId:e.tagId})})))}},173:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(30),r=function(e){return{type:a.e,reviewsArray:e}},i=function(e){return{type:a.a,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},o=function(e){return{type:a.c,userId:e}},c=function(e){return{type:a.d,text:e.text,userId:e.userId,userName:e.userName,datePosted:e.datePosted}},l=function(e){return{type:a.b,userId:e.userId,userName:e.userName,rating:e.rating}}},176:function(e,t,n){"use strict";var a=n(64),r=n(40),i=n(17),o=n(0),c=n.n(o),l=n(182),u=n.n(l),s=n(152),d=n(239),m=n(181),p=n.n(m),f=n(183),b=n.n(f),v=n(15),g=n(75),h=n(173),E=n(163),x=n.n(E);function y(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n"]);return y=function(){return e},e}function O(){var e=Object(i.a)(["\n    padding: 0px !important;\n"]);return O=function(){return e},e}var j=Object(v.b)(s.a)(O()),w=v.b.div(y()),k=window.location.protocol+"//"+window.location.host;t.a=Object(g.b)(null,{changeRatingAction:h.b})((function(e){var t=Object(o.useState)(0),n=Object(r.a)(t,2),i=n[0],l=n[1],s=e.readonly,m=e.readOnlyRating,f=e.hideReadOnlyLabel,v=e.userRating,g=e.userId,h=e.userName,E="";function y(t){var n=i===t?t-1:t;l(n),g&&h&&function(e,t,n,a){e.changeRatingAction({userId:t,userName:n,rating:a}),a||e.userHasReviewText?x.a.put(k+"/reviewRatings/rating",{mediaId:e.mediaId,mediaType:e.mediaType,userId:t,rating:a}).then((function(e){console.log("Successfully put the rating: ",e)})).catch((function(e){console.log(e)})):x.a.delete(k+"/reviewRatings"+"/".concat(e.mediaType,"/").concat(e.mediaId,"/").concat(t)).then((function(e){console.log("Successfully deleted the reviewRating",e)})).catch((function(e){console.log(e)}))}(e,g,h,n)}return s&&m?E=m.toFixed(2):v&&(E=v.toFixed(2)),Object(o.useEffect)((function(){i||l(v||0)}),[v]),c.a.createElement(d.a,{display:"flex"},Object(a.a)(Array(5)).map((function(e,t){return c.a.createElement(w,{key:t},s?c.a.createElement(c.a.Fragment,null,function(e,t){var n=((null===t||void 0===t?void 0:t.toFixed(2))||"0.00").split("."),a=Object(r.a)(n,2),i=a[0],o=a[1],l=parseInt(i),s=parseInt(o);if(e+1<=l)return c.a.createElement(p.a,{style:{fill:"#FFCC00"},fontSize:"small"});if(e!==l)return c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"});var d=50*Math.round(s/50);return 0===d?c.a.createElement(u.a,{style:{fill:"#FFCC00"},fontSize:"small"}):50===d?c.a.createElement(b.a,{style:{fill:"#FFCC00"},fontSize:"small"}):100===d?c.a.createElement(p.a,{style:{fill:"#FFCC00"},fontSize:"small"}):void 0}(t,m)):c.a.createElement(j,{size:"small",onClick:function(){return y(t+1)}},t<i?c.a.createElement(p.a,{style:{fill:"#FFCC00"}}):c.a.createElement(u.a,{style:{fill:"#FFCC00"}})))})),c.a.createElement(d.a,{ml:1},s&&!f&&E))}))},184:function(e,t,n){e.exports=n.p+"static/media/MockCover.4d59545d.png"},185:function(e,t,n){e.exports=n.p+"static/media/MockBookCover.db0a0480.jpg"},189:function(e,t,n){"use strict";var a=n(40),r=n(17),i=n(0),o=n.n(i),c=n(15),l=n(381),u=n(119),s=n(148),d=n(156),m=n(152),p=n(278),f=n(194),b=n.n(f),v=n(227),g=n.n(v),h=n(149),E=n(8),x=n(162),y=n(175),O=n(170),j=n(163),w=n.n(j),k=n(176);function S(){var e=Object(r.a)(["\n    color: white;\n    &:hover {\n        color: grey;\n    }\n"]);return S=function(){return e},e}function C(){var e=Object(r.a)(["\n    margin-right: 10px;\n    background: none;\n    border: none;\n    color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:hover {\n        color: ",";\n    }\n"]);return C=function(){return e},e}function M(){var e=Object(r.a)(["\n    height: 35px;\n    width: 100%;\n    position:absolute;\n    bottom:0;\n    display: flex;\n    justify-content: flex-end;\n"]);return M=function(){return e},e}function T(){var e=Object(r.a)(["\n    margin: 10px;\n    margin-bottom: ",";\n"]);return T=function(){return e},e}function P(){var e=Object(r.a)(["\n    overflow: auto;\n"]);return P=function(){return e},e}function F(){var e=Object(r.a)(["\n    max-height: ",";\n    display: flex;\n    flex-direction: column;\n    margin-right: 10px;\n    margin-left: 10px;\n"]);return F=function(){return e},e}function D(){var e=Object(r.a)(["\n    max-width: ",";\n"]);return D=function(){return e},e}function R(){var e=Object(r.a)(["\n    max-height: ",";\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    margin: 10px;\n    overflow: auto;\n"]);return R=function(){return e},e}function I(){var e=Object(r.a)(["\n    height: ",";\n    overflow: auto;\n"]);return I=function(){return e},e}function N(){var e=Object(r.a)(["\n    background-color: ",";\n    height: 50px;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n"]);return N=function(){return e},e}function W(){var e=Object(r.a)(["\n    width: ",";\n    height: ",";\n    position: absolute;\n    left: 50% !important;\n    top: 50% !important;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    position: relative;\n"]);return W=function(){return e},e}var B=c.b.div(W(),(function(e){return e.isSmall||e.isShort?"100vw":"500px"}),(function(e){return e.isSmall||e.isShort?"100vh":"500px"})),z=c.b.div(N(),(function(e){return e.theme.palette.primary.main})),A=c.b.div(I(),(function(e){return e.isSmall||e.isShort?"100%":"450px"})),L=c.b.div(R(),(function(e){return e.isShort?"80%":"350px"})),H=c.b.img(D(),(function(e){return e.isShort?"30%":"50%"})),Q=c.b.div(F(),(function(e){return e.isShort?"80%":"350px"})),G=c.b.div(P()),U=c.b.div(T(),(function(e){return e.isSmall||e.isShort?"100px":"35px"})),$=Object(c.b)(u.a)(M()),_=Object(c.b)(h.a)(C(),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[900]})),V=Object(c.b)(b.a)(S()),K=function(e){var t=e.isOpen,n=e.modalData,r=e.setModalOpen,c=Object(E.g)(),l=Object(i.useState)([]),u=Object(a.a)(l,2),f=u[0],b=u[1],v=Object(i.useState)(0),h=Object(a.a)(v,2),j=h[0],S=h[1],C=Object(s.a)("(max-width:450px)"),M=Object(s.a)("(max-height:500px)");return Object(i.useEffect)((function(){if(t){var e=n.id,a=n.mediaType===x.a.book?"books":"movies";w.a.get("/".concat(a,"/tags/").concat(e)).then((function(e){var t=e.data;b(t.nextStoryTags)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),Object(i.useEffect)((function(){if(t){var e=n.id,a=n.mediaType;w.a.get("/reviewRatings/averageRating/".concat(a,"/").concat(e)).then((function(e){var t=e.data;S(t.average)})).catch((function(e){console.log("Error getting media",e)}))}}),[n,t]),o.a.createElement(d.a,{open:t,onClose:function(){return r(!1)}},o.a.createElement(B,{isSmall:C,isShort:M},o.a.createElement(z,null,o.a.createElement(m.a,{onClick:function(){return r(!1)}},o.a.createElement(V,null))),o.a.createElement(A,{isSmall:C,isShort:M},o.a.createElement(L,{isShort:M},o.a.createElement(H,{src:null===n||void 0===n?void 0:n.image,isShort:M}),o.a.createElement(Q,{isShort:M},o.a.createElement(p.a,{variant:"h3",gutterBottom:!0},null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.mediaType)===x.a.movie?"(Movie)":"(Book)"),o.a.createElement(p.a,{variant:"subtitle2"},"Avg members rating: ",!j&&"No rating"),j>0&&o.a.createElement(k.a,{readOnlyRating:j,readonly:!0}),o.a.createElement(G,null,"Genres:",o.a.createElement(O.a,{tags:(null===n||void 0===n?void 0:n.genres)||[],singleQueryType:x.b.genre}),f.length>0&&o.a.createElement(o.a.Fragment,null,"Tags:",o.a.createElement(O.a,{tagObjects:f||[],singleQueryType:x.b.tag}))))),o.a.createElement(U,{isSmall:C,isShort:M},o.a.createElement(y.a,{content:(null===n||void 0===n?void 0:n.blurb)||""}))),o.a.createElement($,{elevation:3},o.a.createElement(_,{endIcon:o.a.createElement(g.a,null),onClick:function(){return function(){var e=n.id,t=n.mediaType;c.push("/".concat(t,"/").concat(e)),r(!1)}()}},"Go to page"))))};function J(){var e=Object(r.a)(["\n    height: 100%;\n    max-width: 100%;\n    cursor: pointer;\n    &:hover {\n        opacity: 50%;\n    }\n"]);return J=function(){return e},e}function Y(){var e=Object(r.a)(["\n    height: 250px;\n    width: 175px;\n    display: flex;\n    justify-content: center;\n    align-items: space-between;\n    flex-direction: column;\n"]);return Y=function(){return e},e}var q=Object(c.b)(l.a)(Y()),X=c.b.img(J());t.a=function(e){var t=e.cardData.image,n=Object(i.useState)(!1),r=Object(a.a)(n,2),c=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{isOpen:c,setModalOpen:function(){return l(!1)},modalData:e.cardData}),o.a.createElement(q,{elevation:1},o.a.createElement(X,{src:t,onClick:function(){return l(!0)}})))}},282:function(e,t,n){"use strict";var a=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),i=(0,a(n(63)).default)(r.default.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.default=i},283:function(e,t,n){"use strict";var a=n(1),r=n(2),i=n(0),o=(n(3),n(4)),c=n(171),l=n(5),u=n(278),s=n(9),d=i.forwardRef((function(e,t){e.checked;var n=e.classes,l=e.className,d=e.control,m=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,b=void 0===f?"end":f,v=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=Object(c.a)(),h=m;"undefined"===typeof h&&"undefined"!==typeof d.props.disabled&&(h=d.props.disabled),"undefined"===typeof h&&g&&(h=g.disabled);var E={disabled:h};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof d.props[t]&&"undefined"!==typeof e[t]&&(E[t]=e[t])})),i.createElement("label",Object(a.a)({className:Object(o.a)(n.root,l,"end"!==b&&n["labelPlacement".concat(Object(s.a)(b))],h&&n.disabled),ref:t},v),i.cloneElement(d,E),i.createElement(u.a,{component:"span",className:Object(o.a)(n.label,h&&n.disabled)},p))}));t.a=Object(l.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(d)},284:function(e,t,n){"use strict";var a=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),i=(0,a(n(63)).default)(r.default.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"InsertPhoto");t.default=i},286:function(e,t,n){"use strict";var a=n(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),i=(0,a(n(63)).default)(r.default.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=i},372:function(e,t,n){"use strict";var a=n(1),r=n(2),i=n(0),o=(n(3),n(4)),c=n(5),l=n(50),u=Object(l.a)(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=i.forwardRef((function(e,t){var n=e.alt,c=e.children,l=e.classes,s=e.className,d=e.component,m=void 0===d?"div":d,p=e.imgProps,f=e.sizes,b=e.src,v=e.srcSet,g=e.variant,h=void 0===g?"circle":g,E=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),x=null,y=function(e){var t=e.src,n=e.srcSet,a=i.useState(!1),r=a[0],o=a[1];return i.useEffect((function(){if(t||n){o(!1);var e=!0,a=new Image;return a.src=t,a.srcSet=n,a.onload=function(){e&&o("loaded")},a.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),r}({src:b,srcSet:v}),O=b||v,j=O&&"error"!==y;return x=j?i.createElement("img",Object(a.a)({alt:n,src:b,srcSet:v,sizes:f,className:l.img},p)):null!=c?c:O&&n?n[0]:i.createElement(u,{className:l.fallback}),i.createElement(m,Object(a.a)({className:Object(o.a)(l.root,l.system,l[h],s,!j&&l.colorDefault),ref:t},E),x)}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},389:function(e,t,n){"use strict";n.r(t);var a=n(88),r=n(0),i=n.n(r),o=n(285),c=n(40),l=n(17),u=n(15),s=n(278),d=n(200),m=n.n(d),p=n(201),f=n(1),b=n(2),v=(n(3),n(4)),g=n(5),h=r.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,o=e.disableTypography,c=void 0!==o&&o,l=Object(b.a)(e,["children","classes","className","disableTypography"]);return r.createElement("div",Object(f.a)({className:Object(v.a)(a.root,i),ref:t},l),c?n:r.createElement(s.a,{component:"h2",variant:"h6"},n))})),E=Object(g.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(h),x=n(10),y=n(9),O=n(156),j=n(54),w=n(161),k=n(82),S=n(22),C=n(61),M=n(11),T={entering:{opacity:1},entered:{opacity:1}},P={enter:k.b.enteringScreen,exit:k.b.leavingScreen},F=r.forwardRef((function(e,t){var n=e.children,a=e.disableStrictModeCompat,i=void 0!==a&&a,o=e.in,c=e.onEnter,l=e.onEntered,u=e.onEntering,s=e.onExit,d=e.onExited,m=e.onExiting,p=e.style,v=e.TransitionComponent,g=void 0===v?w.a:v,h=e.timeout,E=void 0===h?P:h,x=Object(b.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),y=Object(S.a)(),O=y.unstable_strictMode&&!i,k=r.useRef(null),F=Object(M.a)(n.ref,t),D=Object(M.a)(O?k:void 0,F),R=function(e){return function(t,n){if(e){var a=O?[k.current,t]:[t,n],r=Object(j.a)(a,2),i=r[0],o=r[1];void 0===o?e(i):e(i,o)}}},I=R(u),N=R((function(e,t){Object(C.b)(e);var n=Object(C.a)({style:p,timeout:E},{mode:"enter"});e.style.webkitTransition=y.transitions.create("opacity",n),e.style.transition=y.transitions.create("opacity",n),c&&c(e,t)})),W=R(l),B=R(m),z=R((function(e){var t=Object(C.a)({style:p,timeout:E},{mode:"exit"});e.style.webkitTransition=y.transitions.create("opacity",t),e.style.transition=y.transitions.create("opacity",t),s&&s(e)})),A=R(d);return r.createElement(g,Object(f.a)({appear:!0,in:o,nodeRef:O?k:void 0,onEnter:N,onEntered:W,onEntering:I,onExit:z,onExited:A,onExiting:B,timeout:E},x),(function(e,t){return r.cloneElement(n,Object(f.a)({style:Object(f.a)({opacity:0,visibility:"exited"!==e||o?void 0:"hidden"},T[e],p,n.props.style),ref:D},t))}))})),D=r.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,o=e.invisible,c=void 0!==o&&o,l=e.open,u=e.transitionDuration,s=e.TransitionComponent,d=void 0===s?F:s,m=Object(b.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return r.createElement(d,Object(f.a)({in:l,timeout:u},m),r.createElement("div",{className:Object(v.a)(a.root,i,c&&a.invisible),"aria-hidden":!0,ref:t},n))})),R=Object(g.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(D),I=n(119),N={enter:k.b.enteringScreen,exit:k.b.leavingScreen},W=r.forwardRef((function(e,t){var n=e.BackdropProps,a=e.children,i=e.classes,o=e.className,c=e.disableBackdropClick,l=void 0!==c&&c,u=e.disableEscapeKeyDown,s=void 0!==u&&u,d=e.fullScreen,m=void 0!==d&&d,p=e.fullWidth,g=void 0!==p&&p,h=e.maxWidth,E=void 0===h?"sm":h,x=e.onBackdropClick,j=e.onClose,w=e.onEnter,k=e.onEntered,S=e.onEntering,C=e.onEscapeKeyDown,M=e.onExit,T=e.onExited,P=e.onExiting,D=e.open,W=e.PaperComponent,B=void 0===W?I.a:W,z=e.PaperProps,A=void 0===z?{}:z,L=e.scroll,H=void 0===L?"paper":L,Q=e.TransitionComponent,G=void 0===Q?F:Q,U=e.transitionDuration,$=void 0===U?N:U,_=e.TransitionProps,V=e["aria-describedby"],K=e["aria-labelledby"],J=Object(b.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Y=r.useRef();return r.createElement(O.a,Object(f.a)({className:Object(v.a)(i.root,o),BackdropComponent:R,BackdropProps:Object(f.a)({transitionDuration:$},n),closeAfterTransition:!0,disableBackdropClick:l,disableEscapeKeyDown:s,onEscapeKeyDown:C,onClose:j,open:D,ref:t},J),r.createElement(G,Object(f.a)({appear:!0,in:D,timeout:$,onEnter:w,onEntering:S,onEntered:k,onExit:M,onExiting:P,onExited:T,role:"none presentation"},_),r.createElement("div",{className:Object(v.a)(i.container,i["scroll".concat(Object(y.a)(H))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===Y.current&&(Y.current=null,x&&x(e),!l&&j&&j(e,"backdropClick"))},onMouseDown:function(e){Y.current=e.target}},r.createElement(B,Object(f.a)({elevation:24,role:"dialog","aria-describedby":V,"aria-labelledby":K},A,{className:Object(v.a)(i.paper,i["paperScroll".concat(Object(y.a)(H))],i["paperWidth".concat(Object(y.a)(String(E)))],A.className,m&&i.paperFullScreen,g&&i.paperFullWidth)}),a))))})),B=Object(g.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(x.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(x.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(x.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(x.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(x.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(W),z=n(152),A=n(194),L=n.n(A),H=n(284),Q=n.n(H),G=r.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.dividers,o=void 0!==i&&i,c=Object(b.a)(e,["classes","className","dividers"]);return r.createElement("div",Object(f.a)({className:Object(v.a)(n.root,a,o&&n.dividers),ref:t},c))})),U=Object(g.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(G),$=n(283),_=n(395),V=r.forwardRef((function(e,t){var n=e.disableSpacing,a=void 0!==n&&n,i=e.classes,o=e.className,c=Object(b.a)(e,["disableSpacing","classes","className"]);return r.createElement("div",Object(f.a)({className:Object(v.a)(i.root,o,!a&&i.spacing),ref:t},c))})),K=Object(g.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(V),J=n(149),Y=n(163),q=n.n(Y),X=n(75),Z=n(66),ee=n(372),te=n(282),ne=n.n(te);function ae(){var e=Object(l.a)(["\n  &.MuiSvgIcon-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n  &.MuiAvatar-root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return re=function(){return e},e}var ie=Object(u.b)(ee.a)(re()),oe=Object(u.b)(ne.a)(ae()),ce=function(e){var t=e.avatar;return i.a.createElement("div",null,t?i.a.createElement(ie,{variant:"square"},i.a.createElement("img",{alt:"profile",src:t,width:"100%"})):i.a.createElement(oe,{color:"disabled",fontSize:"large"}))};function le(){var e=Object(l.a)(["\n  display: none;\n"]);return le=function(){return e},e}function ue(){var e=Object(l.a)(["\n  &.MuiFormControlLabel-root {\n    align-items: flex-start;\n    margin-left: 0;\n    margin-right: 0;\n  }\n  & > div {\n    min-width: 300px;\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(l.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n    margin-bottom: 10px;\n  }\n  margin: 0 auto 10px auto;\n"]);return se=function(){return e},e}function de(){var e=Object(l.a)(["\n  &.MuiButtonBase-root {\n    position: absolute;\n    color: #ffffff;\n  }\n  right: 5px;\n"]);return de=function(){return e},e}function me(){var e=Object(l.a)(["\n  color: #ffffff;\n"]);return me=function(){return e},e}function pe(){var e=Object(l.a)(["\n  display: inline-flex;\n  align-items: center;\n  background-color: #3f51b5;\n"]);return pe=function(){return e},e}var fe=Object(u.b)(E)(pe()),be=Object(u.b)(s.a)(me()),ve=Object(u.b)(z.a)(de()),ge=u.b.div(se()),he=Object(u.b)($.a)(ue()),Ee=u.b.input(le()),xe=Object(X.b)((function(e){var t,n,a;return{aboutMe:null===(t=e.profile)||void 0===t?void 0:t.message,photo:null===(n=e.profile)||void 0===n?void 0:n.avatar,id:null===(a=e.profile)||void 0===a?void 0:a._id}}),(function(e){return{updateProfile:function(t){return e((n=t,{type:Z.b,data:n}));var n}}}))((function(e){var t=e.aboutMe,n=void 0===t?"":t,a=e.photo,o=e.isOpen,l=e.id,u=e.handleClose,d=e.updateProfile,f=window.location.protocol+"//"+window.location.host,b=Object(r.useState)(n),v=Object(c.a)(b,2),g=v[0],h=v[1],E=Object(r.useState)(a),x=Object(c.a)(E,2),y=x[0],O=x[1],j=Object(r.useState)(""),w=Object(c.a)(j,2),k=w[0],S=w[1],C=function(){M(),u()},M=function(){S(""),O(a),h(n)},T=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===(n=t.target.files)||void 0===n?void 0:n[0],(r=new FileReader).onload=function(e){var t,n=new Image;n.onload=function(){var e=document.createElement("canvas"),t=n.naturalWidth,a=n.naturalHeight,r=t,i=a;t/a>1?r=1*a:i=t/1;var o=Math.round((r-t)/2),c=Math.round((i-a)/2);e.width=r,e.height=i;var l=e.getContext("2d");null===l||void 0===l||l.drawImage(n,o,c);var u=e.toDataURL("image/jpeg");O(u)},n.src=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result)||""},a&&(parseFloat(null===(i=a.size/1024/1024)||void 0===i?void 0:i.toFixed(4))>8?S("File size exceeds 8Mb"):r.readAsDataURL(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k){e.next=13;break}return e.prev=2,e.next=5,q.a.put("".concat(f,"/users/edit/").concat(l),{message:g,avatar:y});case 5:n=e.sent,d(n.data),u(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("error submitting the updated profile: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(n)}),[n]),Object(r.useEffect)((function(){O(a)}),[a]),i.a.createElement(B,{open:o,onClose:C},i.a.createElement(fe,{disableTypography:!0},i.a.createElement(be,{variant:"h4"},"Edit Profile"),i.a.createElement(ve,{onClick:C},i.a.createElement(L.a,null))),i.a.createElement(U,{dividers:!0},i.a.createElement("form",{onSubmit:function(e){return P(e)}},i.a.createElement(ge,null,i.a.createElement(ce,{avatar:y}),i.a.createElement(Ee,{accept:".png, .jpg, .jpeg",id:"upload-file-input",type:"file",onChange:T}),i.a.createElement("label",{htmlFor:"upload-file-input"},i.a.createElement(J.a,{component:"span",startIcon:i.a.createElement(Q.a,null),variant:"contained"},"Upload")),k&&i.a.createElement(s.a,{variant:"subtitle2",color:"error"},k)),i.a.createElement(he,{control:i.a.createElement(_.a,{multiline:!0,rows:4,value:g,onChange:function(e){h(e.target.value)}}),label:"About Me",labelPlacement:"top"}),i.a.createElement(K,null,i.a.createElement(J.a,{variant:"contained",onClick:M},"Cancel"),i.a.createElement(J.a,{color:"primary",variant:"contained",type:"submit"},"Submit")))))}));function ye(){var e=Object(l.a)(["\n  cursor: pointer;\n  :hover {\n    & .MuiTypography-root {\n      text-decoration: underline;\n    }\n  }\n"]);return ye=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  &.MuiTypography-body1 {\n    font-weight: bold;\n  }\n"]);return Oe=function(){return e},e}function je(){var e=Object(l.a)(["\n  width: 150px;\n  &>:first-child {\n    border: solid 1px #D3D3D3;\n    height: 150px;\n  }\n"]);return je=function(){return e},e}function we(){var e=Object(l.a)(["\n  flex: 0 1 auto;\n  min-width: 300px;\n  /* height: 100vh; */\n  /* overflow-x: hidden; */\n  /* overflow-y: auto; */\n  & > * {\n    margin-bottom: 10px;\n  }\n"]);return we=function(){return e},e}var ke=u.b.div(we()),Se=u.b.div(je()),Ce=Object(u.b)(s.a)(Oe()),Me=u.b.div(ye()),Te=function(e){var t=e.avatar,n=e.about,a=e.email,o=e.booksCount,l=e.moviesCount,u=e.name,d=Object(r.useState)(!1),m=Object(c.a)(d,2),p=m[0],f=m[1];return i.a.createElement(ke,{id:"userinfo"},i.a.createElement(xe,{isOpen:p,handleClose:function(){return f(!1)}}),i.a.createElement(Se,null,i.a.createElement(ce,{avatar:t}),i.a.createElement(Me,{onClick:function(){return f(!0)}},i.a.createElement(s.a,{align:"center",color:"primary",variant:"body1"},"Edit Profile"))),i.a.createElement("div",null,i.a.createElement(s.a,{variant:"body2"},"User Name: ".concat(u)),i.a.createElement(s.a,{variant:"body2"},"Books Read: ".concat(o)),i.a.createElement(s.a,{variant:"body2"},"Movies Watched: ".concat(l))),i.a.createElement("div",null,i.a.createElement(Ce,null,"About Me/Message User"),i.a.createElement(s.a,{variant:"body2"},n)),i.a.createElement("div",null,i.a.createElement(Ce,null,"Contact"),i.a.createElement(s.a,{variant:"body2"},a)))},Pe=n(148),Fe=n(164),De=n(64),Re=n(191),Ie=n.n(Re),Ne=(n(193),n(189)),We=n(184),Be=n.n(We),ze=n(286),Ae=n.n(ze);function Le(){var e=Object(l.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n"]);return Le=function(){return e},e}function He(){var e=Object(l.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.23);\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  :hover{\n    cursor: pointer;\n  }\n"]);return He=function(){return e},e}function Qe(){var e=Object(l.a)(["\n  &.MuiOutlinedInput-root {\n    border-radius: 4px 0 0 4px;\n  }\n"]);return Qe=function(){return e},e}function Ge(){var e=Object(l.a)(["\n  &.MuiGrid-container {\n    flex-wrap: nowrap;\n  }\n"]);return Ge=function(){return e},e}var Ue=Object(u.b)(o.a)(Ge()),$e=Object(u.b)(_.a)(Qe()),_e=Object(u.b)(o.a)(He()),Ve=u.b.div(Le()),Ke=function(){return i.a.createElement("div",null,i.a.createElement(Ue,{container:!0,spacing:0,alignItems:"stretch"},i.a.createElement(o.a,{item:!0},i.a.createElement($e,{name:"search",type:"search",placeholder:"Search"})),i.a.createElement(_e,{item:!0},i.a.createElement(Ve,null,i.a.createElement(Ae.a,{fontSize:"large"})))))},Je=n(392),Ye=function(){return i.a.createElement(Je.a,{variant:"outlined",native:!0},i.a.createElement("option",{value:1},"Option 1"),i.a.createElement("option",{value:2},"Option 2"))},qe=n(162),Xe=n(185),Ze=n.n(Xe);function et(){var e=Object(l.a)(["\n  margin-top: 20px;\n"]);return et=function(){return e},e}var tt=Object(u.b)(Ie.a)(et()),nt=(Be.a,qe.a.movie,function(){return i.a.createElement(o.a,{spacing:1,container:!0},i.a.createElement(o.a,{item:!0,xs:6},i.a.createElement(Ye,null)),i.a.createElement(o.a,{item:!0,xs:6},i.a.createElement(Ke,null)))}),at=Object(X.b)()((function(e){e.bookIds,e.movieIds;var t=e.title,n=e.withSearchSelect,a=(e.updateMethod,sessionStorage.getItem("NS-session-data")),o=(a&&JSON.parse(a)).userId,l=Object(r.useState)([{title:"",id:"",mediaType:qe.a.start,image:Ze.a,people:"",genres:[],nextStoryTags:[],blurb:"",avgRating:0}]),u=Object(c.a)(l,2),d=u[0],m=u[1];Object(r.useEffect)((function(){q.a.get("/users/userLists/".concat(o)).then((function(e){var n=e.data;console.log(t),console.log(n);var a=[];console.log(t),(null===t||void 0===t?void 0:t.includes("Favourite"))?(a.push.apply(a,n.favoriteMoviesDetails),a.push.apply(a,n.favoriteBooksDetails)):(a.push.apply(a,n.watchLaterDetails),a.push.apply(a,n.readLaterDetails),a.push.apply(a,n.booksReadDetails),a.push.apply(a,n.moviesWatchedDetails)),m(a)})).catch((function(e){console.log(e)}))}),[]);var p=d.map((function(e,t){return i.a.createElement(Ne.a,{key:t,cardData:e})})),f=Object(De.a)(p);return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h4"},t),i.a.createElement("div",null,n&&i.a.createElement(nt,null)),i.a.createElement(tt,{additionalTransfrom:0,arrows:!0,autoPlaySpeed:3e3,draggable:!0,infinite:!0,keyBoardControl:!0,minimumTouchDrag:80,slidesToSlide:1,swipeable:!0,centerMode:!0,removeArrowOnDeviceType:["xmd","sm","xs"],responsive:{xl:{breakpoint:{max:3e3,min:1200},items:2.4,partialVisibilityGutter:40},lg:{breakpoint:{max:1200,min:960},items:1.5,partialVisibilityGutter:20},md:{breakpoint:{max:960,min:768},items:2,partialVisibilityGutter:0},xmd:{breakpoint:{max:768,min:480},items:1.5,partialVisibilityGutter:20},sm:{breakpoint:{max:480,min:0},items:.8,partialVisibilityGutter:50}}},f))})),rt=n(170),it=n(67);function ot(){var e=Object(l.a)(["\n  min-width: 350px;\n  margin: 0 auto;\n"]);return ot=function(){return e},e}function ct(){var e=Object(l.a)(["\n  > * {\n    :not(:first-child) {\n      margin-top: 30px;\n    }\n  }\n"]);return ct=function(){return e},e}var lt=u.b.div(ct()),ut=u.b.div(ot()),st=Object(X.b)(null,(function(e){return{setFavorites:function(t){return e((n=t,{type:it.a,data:n}));var n},setLater:function(t){return e((n=t,{type:it.b,data:n}));var n}}}))((function(e){var t=e.favoriteAuthors,n=e.favoriteBooks,a=e.favoriteDirectors,r=e.favoriteGenres,o=e.favoriteMovies,c=e.favoriteNextStoryTags,l=e.readLater,u=e.watchLater,d=e.setFavorites,m=e.setLater;return i.a.createElement(lt,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(ut,null,i.a.createElement(s.a,{variant:"h4"},"Favourite Genres"),i.a.createElement(rt.a,{tags:Object(De.a)(r),singleQueryType:qe.b.genre}),i.a.createElement(rt.a,{tagObjects:Object(De.a)(c),singleQueryType:qe.b.tag})),i.a.createElement(ut,null,i.a.createElement(s.a,{variant:"h4"},"Favourite Authors:"),i.a.createElement(rt.a,{tags:t,singleQueryType:qe.b.bookPerson})),i.a.createElement(ut,null,i.a.createElement(s.a,{variant:"h4"},"Favourite Directors:"),i.a.createElement(rt.a,{tags:a,singleQueryType:qe.b.moviePerson})),i.a.createElement(ut,null,i.a.createElement(at,{bookIds:n,bMSource:"favorite",movieIds:o,title:"User's Favourite Books/Movies:",updateMethod:d})),i.a.createElement(ut,null,i.a.createElement(at,{bMSource:"later",title:"User's Read/Watched List",bookIds:l,movieIds:u,withSearchSelect:!0,updateMethod:m}))))}));t.default=Object(X.b)((function(e){return{profile:e.profile}}),(function(e){return{setProfile:function(t){return e(function(e){return{type:Z.a,profile:e}}(t))}}}))((function(e){var t=e.profile,n=t.avatar,c=t.booksRead,l=t.email,u=t.message,s=t.moviesWatched,d=t.name,m=Object(a.a)(t,["avatar","booksRead","email","message","moviesWatched","name"]),p=e.setProfile,f=Object(Pe.a)("(min-width: 960px)"),b=window.location.protocol+"//"+window.location.host;return Object(r.useEffect)((function(){var e=sessionStorage.getItem("NS-session-data"),t=e&&JSON.parse(e).userId;q.a.get("".concat(b,"/users/").concat(t)).then((function(e){p(e.data)})).catch((function(e){console.log("Error fetching profile: ",e)}))}),[]),i.a.createElement(Fe.a,{maxWidth:f?"lg":"sm"},i.a.createElement(o.a,{container:!0,spacing:5},i.a.createElement(o.a,{item:!0,xs:12,sm:12,md:5},i.a.createElement(Te,{about:u,avatar:n,booksCount:c.length,email:l,moviesCount:s.length,name:d})),i.a.createElement(o.a,{item:!0,xs:12,sm:12,md:7},i.a.createElement(st,m))))}))}}]);
//# sourceMappingURL=11.feff037e.chunk.js.map