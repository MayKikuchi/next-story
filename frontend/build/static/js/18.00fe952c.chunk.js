(this["webpackJsonpnext-story"]=this["webpackJsonpnext-story"]||[]).push([[18],{159:function(e,a,t){"use strict";var n=t(17),r=t(0),o=t.n(r),i=t(242),l=t(14);function s(){var e=Object(n.a)(["\n    margin-top: 85px;\n    margin-bottom: 85px;\n"]);return s=function(){return e},e}var c=Object(l.b)(i.a)(s());a.a=function(e){return o.a.createElement(c,{maxWidth:e.maxWidth},e.children)}},193:function(e,a,t){},379:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=(t(222),t(193),t(40)),i=t(360),l=t(145),s=t(370),c=t(381),m=t(221),u=t(273),d=t(232),p=t(224),g=t.n(p),f=t(271),b=t(369),h=t(242),v=t(158),E=t.n(v),x=t(7),w=t(223);function j(){return r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(m.a,{color:"inherit",href:"https://material-ui.com/"},"NextStory")," ",(new Date).getFullYear(),".")}var S=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function y(){var e=S(),a=Object(n.useState)(!1),t=Object(o.a)(a,2),p=t[0],b=t[1],v=Object(n.useState)(""),y=Object(o.a)(v,2),O=y[0],N=y[1],C=Object(n.useState)(""),W=Object(o.a)(C,2),P=W[0],k=W[1],I=Object(n.useState)(""),q=Object(o.a)(I,2),D=q[0],F=q[1],T=Object(n.useState)(""),A=Object(o.a)(T,2),G=A[0],J=A[1],L=Object(n.useState)(""),U=Object(o.a)(L,2),_=U[0],R=U[1],V=Object(x.g)(),Y=window.location.protocol+"//"+window.location.host,z=function(e,a){E.a.post(Y+"/users/signUp",e).then((function(e){var t=e.data.userId,n=e.data.name,r=new Date;r.setSeconds(r.getSeconds()+3599);var o={expiry:r,username:n,userId:t,isGoogleLogin:a};sessionStorage.setItem("NS-session-data",JSON.stringify(o)),V.push("/")})).catch((function(e){b(!0);var a=e.response.data.message;N(a),console.log("Error signing up",e)}))};return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(s.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(i.a,{className:e.avatar},r.a.createElement(g.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return e.preventDefault(),P&&D&&G&&_?G!==_?(b(!0),void N("Passwords do not match")):function(e){return/\S+@\S+\.\S+/.test(e)}(D)?(b(!1),void z({userName:P,email:D,textPass:G},!1)):(b(!0),void N("Invalid email")):(b(!0),void N("All fields must be filled in"))}},r.a.createElement(u.a,{container:!0,spacing:2},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(c.a,{autoComplete:"name",name:"userName",variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",onChange:function(e){k(e.target.value)},autoFocus:!0})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(c.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){F(e.target.value),b(!1),N("")}})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(c.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){J(e.target.value)}})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(c.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"confirm-password",onChange:function(e){R(e.target.value)}})),p&&r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement("div",{style:{color:"red"}},O||"There was an error signing up"))),r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement("span",{style:{marginRight:"5px"}},"Or sign up with Google"),r.a.createElement(w.GoogleLogin,{clientId:"279438615331-cvlr0tk0j35i4s9df4m51o9sb5uj8k3s.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:function(e){console.log("response: ",e),b(!1);var a=e.profileObj.name,t=e.profileObj.email;t&&z({userName:a,email:t},!0)},onFailure:function(e){console.log("onFailure"),console.log("response: ",e),b(!0)},cookiePolicy:"single_host_origin"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(u.a,{container:!0,justify:"flex-end"},r.a.createElement(u.a,{item:!0},r.a.createElement(m.a,{href:"/login",variant:"body2"},"Already have an account? Login"))))),r.a.createElement(d.a,{mt:5},r.a.createElement(j,null)))}var O=t(159);a.default=function(){return r.a.createElement(O.a,{maxWidth:"md"},r.a.createElement(y,null))}}}]);
//# sourceMappingURL=18.00fe952c.chunk.js.map